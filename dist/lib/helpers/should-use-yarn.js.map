{"version":3,"sources":["../../../lib/helpers/should-use-yarn.ts"],"sourcesContent":["import { execSync } from 'child_process'\nimport fs from 'fs'\nimport path from 'path'\n\nexport function shouldUseYarn(baseDir: string): boolean {\n  try {\n    const userAgent = process.env.npm_config_user_agent\n    if (userAgent) {\n      return Boolean(userAgent && userAgent.startsWith('yarn'))\n    } else {\n      if (fs.existsSync(path.join(baseDir, 'yarn.lock'))) {\n        return true\n      } else if (fs.existsSync(path.join(baseDir, 'package-lock.json'))) {\n        return false\n      }\n      execSync('yarnpkg --version', { stdio: 'ignore' })\n      return true\n    }\n  } catch (e) {\n    return false\n  }\n}\n"],"names":["shouldUseYarn","baseDir","userAgent","process","env","npm_config_user_agent","Boolean","startsWith","existsSync","join","stdio","e"],"mappings":";;;;QAIgBA,aAAa,GAAbA,aAAa;AAJJ,GAAe,CAAf,aAAe;AACzB,GAAI,CAAJ,GAAI;AACF,GAAM,CAAN,KAAM;;;;;;SAEPA,aAAa,CAACC,OAAe,EAAW,CAAC;IACvD,GAAG,CAAC,CAAC;QACH,KAAK,CAACC,SAAS,GAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB;QACnD,EAAE,EAAEH,SAAS,EAAE,CAAC;YACd,MAAM,CAACI,OAAO,CAACJ,SAAS,IAAIA,SAAS,CAACK,UAAU,CAAC,CAAM;QACzD,CAAC,MAAM,CAAC;YACN,EAAE,EATO,GAAI,SASNC,UAAU,CARN,KAAM,SAQMC,IAAI,CAACR,OAAO,EAAE,CAAW,cAAI,CAAC;gBACnD,MAAM,CAAC,IAAI;YACb,CAAC,MAAM,EAAE,EAXA,GAAI,SAWCO,UAAU,CAVb,KAAM,SAUaC,IAAI,CAACR,OAAO,EAAE,CAAmB,sBAAI,CAAC;gBAClE,MAAM,CAAC,KAAK;YACd,CAAC;gBAdkB,aAAe,WAezB,CAAmB,oBAAE,CAAC;gBAACS,KAAK,EAAE,CAAQ;YAAC,CAAC;YACjD,MAAM,CAAC,IAAI;QACb,CAAC;IACH,CAAC,CAAC,KAAK,EAAEC,CAAC,EAAE,CAAC;QACX,MAAM,CAAC,KAAK;IACd,CAAC;AACH,CAAC"}