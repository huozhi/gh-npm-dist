{"version":3,"sources":["../../lib/is-error.ts"],"sourcesContent":["import { isPlainObject } from '../shared/lib/is-plain-object'\n\n// We allow some additional attached properties for Errors\nexport interface NextError extends Error {\n  type?: string\n  page?: string\n  code?: string | number\n  cancelled?: boolean\n}\n\nexport default function isError(err: unknown): err is NextError {\n  return (\n    typeof err === 'object' && err !== null && 'name' in err && 'message' in err\n  )\n}\n\nexport function getProperError(err: unknown): Error {\n  if (isError(err)) {\n    return err\n  }\n\n  if (process.env.NODE_ENV === 'development') {\n    // provide better error for case where `throw undefined`\n    // is called in development\n    if (typeof err === 'undefined') {\n      return new Error(\n        'An undefined error was thrown, ' +\n          'see here for more info: https://nextjs.org/docs/messages/threw-undefined'\n      )\n    }\n\n    if (err === null) {\n      return new Error(\n        'A null error was thrown, ' +\n          'see here for more info: https://nextjs.org/docs/messages/threw-undefined'\n      )\n    }\n  }\n\n  return new Error(isPlainObject(err) ? JSON.stringify(err) : err + '')\n}\n"],"names":["isError","getProperError","err","process","env","NODE_ENV","Error","JSON","stringify"],"mappings":";;;;kBAUwBA,OAAO;QAMfC,cAAc,GAAdA,cAAc;AAhBA,GAA+B,CAA/B,cAA+B;SAUrCD,OAAO,CAACE,GAAY,EAAoB,CAAC;IAC/D,MAAM,CACJ,MAAM,CAACA,GAAG,KAAK,CAAQ,WAAIA,GAAG,KAAK,IAAI,IAAI,CAAM,SAAIA,GAAG,IAAI,CAAS,YAAIA,GAAG;AAEhF,CAAC;SAEeD,cAAc,CAACC,GAAY,EAAS,CAAC;IACnD,EAAE,EAAEF,OAAO,CAACE,GAAG,GAAG,CAAC;QACjB,MAAM,CAACA,GAAG;IACZ,CAAC;IAED,EAAE,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,CAAa,cAAE,CAAC;QAC3C,EAAwD,AAAxD,sDAAwD;QACxD,EAA2B,AAA3B,yBAA2B;QAC3B,EAAE,EAAE,MAAM,CAACH,GAAG,KAAK,CAAW,YAAE,CAAC;YAC/B,MAAM,CAAC,GAAG,CAACI,KAAK,CACd,CAAiC,mCAC/B,CAA0E;QAEhF,CAAC;QAED,EAAE,EAAEJ,GAAG,KAAK,IAAI,EAAE,CAAC;YACjB,MAAM,CAAC,GAAG,CAACI,KAAK,CACd,CAA2B,6BACzB,CAA0E;QAEhF,CAAC;IACH,CAAC;IAED,MAAM,CAAC,GAAG,CAACA,KAAK,KAvCY,cAA+B,gBAuC5BJ,GAAG,IAAIK,IAAI,CAACC,SAAS,CAACN,GAAG,IAAIA,GAAG,GAAG,CAAE;AACtE,CAAC"}