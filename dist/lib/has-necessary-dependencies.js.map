{"version":3,"sources":["../../lib/has-necessary-dependencies.ts"],"sourcesContent":["export interface MissingDependency {\n  file: string\n  pkg: string\n}\n\nexport type NecessaryDependencies = {\n  resolved: Map<string, string>\n  missing: MissingDependency[]\n}\n\nexport async function hasNecessaryDependencies(\n  baseDir: string,\n  requiredPackages: MissingDependency[]\n): Promise<NecessaryDependencies> {\n  let resolutions = new Map<string, string>()\n  const missingPackages = requiredPackages.filter((p) => {\n    try {\n      resolutions.set(p.pkg, require.resolve(p.file, { paths: [baseDir] }))\n      return false\n    } catch (_) {\n      return true\n    }\n  })\n\n  return {\n    resolved: resolutions,\n    missing: missingPackages,\n  }\n}\n"],"names":["hasNecessaryDependencies","baseDir","requiredPackages","resolutions","Map","missingPackages","filter","p","set","pkg","require","resolve","file","paths","_","resolved","missing"],"mappings":";;;;QAUsBA,wBAAwB,GAAxBA,wBAAwB;eAAxBA,wBAAwB,CAC5CC,OAAe,EACfC,gBAAqC,EACL,CAAC;IACjC,GAAG,CAACC,WAAW,GAAG,GAAG,CAACC,GAAG;IACzB,KAAK,CAACC,eAAe,GAAGH,gBAAgB,CAACI,MAAM,EAAEC,CAAC,GAAK,CAAC;QACtD,GAAG,CAAC,CAAC;YACHJ,WAAW,CAACK,GAAG,CAACD,CAAC,CAACE,GAAG,EAAEC,OAAO,CAACC,OAAO,CAACJ,CAAC,CAACK,IAAI,EAAE,CAAC;gBAACC,KAAK,EAAE,CAACZ;oBAAAA,OAAO;gBAAA,CAAC;YAAC,CAAC;YACnE,MAAM,CAAC,KAAK;QACd,CAAC,CAAC,KAAK,EAAEa,CAAC,EAAE,CAAC;YACX,MAAM,CAAC,IAAI;QACb,CAAC;IACH,CAAC;IAED,MAAM,CAAC,CAAC;QACNC,QAAQ,EAAEZ,WAAW;QACrBa,OAAO,EAAEX,eAAe;IAC1B,CAAC;AACH,CAAC"}