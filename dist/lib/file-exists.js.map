{"version":3,"sources":["../../lib/file-exists.ts"],"sourcesContent":["import { constants, promises } from 'fs'\nimport isError from './is-error'\n\nexport async function fileExists(\n  fileName: string,\n  type?: 'file' | 'directory'\n): Promise<boolean> {\n  try {\n    if (type === 'file') {\n      const stats = await promises.stat(fileName)\n      return stats.isFile()\n    } else if (type === 'directory') {\n      const stats = await promises.stat(fileName)\n      return stats.isDirectory()\n    } else {\n      await promises.access(fileName, constants.F_OK)\n    }\n    return true\n  } catch (err) {\n    if (\n      isError(err) &&\n      (err.code === 'ENOENT' || err.code === 'ENAMETOOLONG')\n    ) {\n      return false\n    }\n    throw err\n  }\n}\n"],"names":["fileExists","fileName","type","stats","stat","isFile","isDirectory","access","F_OK","err","code"],"mappings":";;;;QAGsBA,UAAU,GAAVA,UAAU;AAHI,GAAI,CAAJ,GAAI;AACpB,GAAY,CAAZ,QAAY;;;;;;eAEVA,UAAU,CAC9BC,QAAgB,EAChBC,IAA2B,EACT,CAAC;IACnB,GAAG,CAAC,CAAC;QACH,EAAE,EAAEA,IAAI,KAAK,CAAM,OAAE,CAAC;YACpB,KAAK,CAACC,KAAK,GAAG,KAAK,CATW,GAAI,UASLC,IAAI,CAACH,QAAQ;YAC1C,MAAM,CAACE,KAAK,CAACE,MAAM;QACrB,CAAC,MAAM,EAAE,EAAEH,IAAI,KAAK,CAAW,YAAE,CAAC;YAChC,KAAK,CAACC,KAAK,GAAG,KAAK,CAZW,GAAI,UAYLC,IAAI,CAACH,QAAQ;YAC1C,MAAM,CAACE,KAAK,CAACG,WAAW;QAC1B,CAAC,MAAM,CAAC;YACN,KAAK,CAfyB,GAAI,UAenBC,MAAM,CAACN,QAAQ,EAfA,GAAI,WAeQO,IAAI;QAChD,CAAC;QACD,MAAM,CAAC,IAAI;IACb,CAAC,CAAC,KAAK,EAAEC,GAAG,EAAE,CAAC;QACb,EAAE,MAlBc,QAAY,UAmBlBA,GAAG,MACVA,GAAG,CAACC,IAAI,KAAK,CAAQ,WAAID,GAAG,CAACC,IAAI,KAAK,CAAc,gBACrD,CAAC;YACD,MAAM,CAAC,KAAK;QACd,CAAC;QACD,KAAK,CAACD,GAAG;IACX,CAAC;AACH,CAAC"}