{"version":3,"sources":["../../../../../shared/lib/router/utils/querystring.ts"],"sourcesContent":["import { ParsedUrlQuery } from 'querystring'\n\nexport function searchParamsToUrlQuery(\n  searchParams: URLSearchParams\n): ParsedUrlQuery {\n  const query: ParsedUrlQuery = {}\n  searchParams.forEach((value, key) => {\n    if (typeof query[key] === 'undefined') {\n      query[key] = value\n    } else if (Array.isArray(query[key])) {\n      ;(query[key] as string[]).push(value)\n    } else {\n      query[key] = [query[key] as string, value]\n    }\n  })\n  return query\n}\n\nfunction stringifyUrlQueryParam(param: string): string {\n  if (\n    typeof param === 'string' ||\n    (typeof param === 'number' && !isNaN(param)) ||\n    typeof param === 'boolean'\n  ) {\n    return String(param)\n  } else {\n    return ''\n  }\n}\n\nexport function urlQueryToSearchParams(\n  urlQuery: ParsedUrlQuery\n): URLSearchParams {\n  const result = new URLSearchParams()\n  Object.entries(urlQuery).forEach(([key, value]) => {\n    if (Array.isArray(value)) {\n      value.forEach((item) => result.append(key, stringifyUrlQueryParam(item)))\n    } else {\n      result.set(key, stringifyUrlQueryParam(value))\n    }\n  })\n  return result\n}\n\nexport function assign(\n  target: URLSearchParams,\n  ...searchParamsList: URLSearchParams[]\n): URLSearchParams {\n  searchParamsList.forEach((searchParams) => {\n    Array.from(searchParams.keys()).forEach((key) => target.delete(key))\n    searchParams.forEach((value, key) => target.append(key, value))\n  })\n  return target\n}\n"],"names":["searchParamsToUrlQuery","urlQueryToSearchParams","assign","searchParams","query","forEach","value","key","Array","isArray","push","stringifyUrlQueryParam","param","isNaN","String","urlQuery","result","URLSearchParams","Object","entries","item","append","set","target","searchParamsList","from","keys","delete"],"mappings":";;;;QAEgBA,sBAAsB,GAAtBA,sBAAsB;QA4BtBC,sBAAsB,GAAtBA,sBAAsB;QActBC,MAAM,GAANA,MAAM;SA1CNF,sBAAsB,CACpCG,YAA6B,EACb,CAAC;IACjB,KAAK,CAACC,KAAK,GAAmB,CAAC,CAAC;IAChCD,YAAY,CAACE,OAAO,EAAEC,KAAK,EAAEC,GAAG,GAAK,CAAC;QACpC,EAAE,EAAE,MAAM,CAACH,KAAK,CAACG,GAAG,MAAM,CAAW,YAAE,CAAC;YACtCH,KAAK,CAACG,GAAG,IAAID,KAAK;QACpB,CAAC,MAAM,EAAE,EAAEE,KAAK,CAACC,OAAO,CAACL,KAAK,CAACG,GAAG,IAAI,CAAC;YACnCH,KAAK,CAACG,GAAG,EAAeG,IAAI,CAACJ,KAAK;QACtC,CAAC,MAAM,CAAC;YACNF,KAAK,CAACG,GAAG,IAAI,CAACH;gBAAAA,KAAK,CAACG,GAAG;gBAAaD,KAAK;YAAA,CAAC;QAC5C,CAAC;IACH,CAAC;IACD,MAAM,CAACF,KAAK;AACd,CAAC;SAEQO,sBAAsB,CAACC,KAAa,EAAU,CAAC;IACtD,EAAE,EACA,MAAM,CAACA,KAAK,KAAK,CAAQ,WACxB,MAAM,CAACA,KAAK,KAAK,CAAQ,YAAKC,KAAK,CAACD,KAAK,KAC1C,MAAM,CAACA,KAAK,KAAK,CAAS,UAC1B,CAAC;QACD,MAAM,CAACE,MAAM,CAACF,KAAK;IACrB,CAAC,MAAM,CAAC;QACN,MAAM,CAAC,CAAE;IACX,CAAC;AACH,CAAC;SAEeX,sBAAsB,CACpCc,QAAwB,EACP,CAAC;IAClB,KAAK,CAACC,MAAM,GAAG,GAAG,CAACC,eAAe;IAClCC,MAAM,CAACC,OAAO,CAACJ,QAAQ,EAAEV,OAAO,GAAGE,GAAG,EAAED,KAAK,IAAM,CAAC;QAClD,EAAE,EAAEE,KAAK,CAACC,OAAO,CAACH,KAAK,GAAG,CAAC;YACzBA,KAAK,CAACD,OAAO,EAAEe,IAAI,GAAKJ,MAAM,CAACK,MAAM,CAACd,GAAG,EAAEI,sBAAsB,CAACS,IAAI;;QACxE,CAAC,MAAM,CAAC;YACNJ,MAAM,CAACM,GAAG,CAACf,GAAG,EAAEI,sBAAsB,CAACL,KAAK;QAC9C,CAAC;IACH,CAAC;IACD,MAAM,CAACU,MAAM;AACf,CAAC;SAEed,MAAM,CACpBqB,MAAuB,KACpBC,gBAAgB,EACF,CAAC;IAClBA,gBAAgB,CAACnB,OAAO,EAAEF,YAAY,GAAK,CAAC;QAC1CK,KAAK,CAACiB,IAAI,CAACtB,YAAY,CAACuB,IAAI,IAAIrB,OAAO,EAAEE,GAAG,GAAKgB,MAAM,CAACI,MAAM,CAACpB,GAAG;;QAClEJ,YAAY,CAACE,OAAO,EAAEC,KAAK,EAAEC,GAAG,GAAKgB,MAAM,CAACF,MAAM,CAACd,GAAG,EAAED,KAAK;;IAC/D,CAAC;IACD,MAAM,CAACiB,MAAM;AACf,CAAC"}