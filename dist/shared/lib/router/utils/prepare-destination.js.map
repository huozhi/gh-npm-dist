{"version":3,"sources":["../../../../../shared/lib/router/utils/prepare-destination.ts"],"names":["matchHas","compileNonPath","prepareDestination","req","has","query","params","allMatch","every","hasItem","value","key","type","toLowerCase","headers","cookies","host","hostname","split","getSafeParamName","matcher","RegExp","matches","Array","isArray","slice","match","groups","Object","keys","forEach","groupKey","includes","replace","compile","validate","substr","args","assign","__nextLocale","__nextDefaultLocale","escapedDestination","destination","param","escapeSegment","parsedDestination","parseUrl","destQuery","destPath","unescapeSegments","pathname","hash","destHostname","destPathParamKeys","destHostnameParamKeys","pathToRegexp","destParams","push","name","destPathCompiler","destHostnameCompiler","strOrArray","entries","map","paramKeys","filter","appendParamsToQuery","some","newUrl","search","err","message","Error","paramName","newParamName","i","length","charCode","charCodeAt","str","segmentName","escapeStringRegexp"],"mappings":"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"}