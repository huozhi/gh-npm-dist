{"version":3,"sources":["../../server/optimize-amp.ts"],"sourcesContent":["export default async function optimize(\n  html: string,\n  config: any\n): Promise<string> {\n  let AmpOptimizer\n  try {\n    AmpOptimizer = require('next/dist/compiled/@ampproject/toolbox-optimizer')\n  } catch (_) {\n    return html\n  }\n  const optimizer = AmpOptimizer.create(config)\n  return optimizer.transformHtml(html, config)\n}\n"],"names":["optimize","html","config","AmpOptimizer","require","_","optimizer","create","transformHtml"],"mappings":";;;;kBAA8BA,QAAQ;eAARA,QAAQ,CACpCC,IAAY,EACZC,MAAW,EACM,CAAC;IAClB,GAAG,CAACC,YAAY;IAChB,GAAG,CAAC,CAAC;QACHA,YAAY,GAAGC,OAAO,CAAC,CAAkD;IAC3E,CAAC,CAAC,KAAK,EAAEC,CAAC,EAAE,CAAC;QACX,MAAM,CAACJ,IAAI;IACb,CAAC;IACD,KAAK,CAACK,SAAS,GAAGH,YAAY,CAACI,MAAM,CAACL,MAAM;IAC5C,MAAM,CAACI,SAAS,CAACE,aAAa,CAACP,IAAI,EAAEC,MAAM;AAC7C,CAAC"}