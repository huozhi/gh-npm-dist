{"version":3,"sources":["../../server/next-server.ts"],"names":["fs","join","relative","PAGES_MANIFEST","BUILD_ID_FILE","PagesManifest","Route","recursiveReadDirSync","route","BaseServer","NextNodeServer","getHasStaticDir","existsSync","dir","getPagesManifest","pagesManifestPath","serverBuildDir","require","getBuildId","buildIdFile","distDir","readFileSync","trim","err","Error","generatePublicRoutes","publicDir","publicFiles","Set","map","p","encodeURI","replace","match","name","fn","req","res","params","parsedUrl","pathParts","path","basePath","nextConfig","basePathParts","split","shift","every","part","idx","finished","splice","length","has","serveStatic","_validFilesystemPathSet","getFilesystemPaths","pathUserFilesStatic","userFilesStatic","hasStaticDir","f","userFilesPublic","nextFilesStatic","minimalMode"],"mappings":"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"}