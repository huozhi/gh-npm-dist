{"version":3,"sources":["../../server/node-polyfill-fetch.js"],"sourcesContent":["import fetch, {\n  Headers,\n  Request,\n  Response,\n} from 'next/dist/compiled/node-fetch'\n\n// Polyfill fetch() in the Node.js environment\nif (!global.fetch) {\n  const agent = ({ protocol }) =>\n    protocol === 'http:' ? global.__NEXT_HTTP_AGENT : global.__NEXT_HTTPS_AGENT\n  const fetchWithAgent = (url, opts, ...rest) => {\n    if (!opts) {\n      opts = { agent }\n    } else if (!opts.agent) {\n      opts.agent = agent\n    }\n    return fetch(url, opts, ...rest)\n  }\n  global.fetch = fetchWithAgent\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n"],"names":["global","fetch","agent","protocol","__NEXT_HTTP_AGENT","__NEXT_HTTPS_AGENT","fetchWithAgent","url","opts","rest","Headers","Request","Response"],"mappings":";AAIO,GAA+B,CAA/B,UAA+B;;;;;;;;;;;;;;;;;;;;;;AAEtC,EAA8C,AAA9C,4CAA8C;AAC9C,EAAE,GAAGA,MAAM,CAACC,KAAK,EAAE,CAAC;IAClB,KAAK,CAACC,KAAK,IAAI,CAAC,CAACC,QAAQ,EAAC,CAAC,GACzBA,QAAQ,KAAK,CAAO,SAAGH,MAAM,CAACI,iBAAiB,GAAGJ,MAAM,CAACK,kBAAkB;;IAC7E,KAAK,CAACC,cAAc,IAAIC,GAAG,EAAEC,IAAI,KAAKC,IAAI,GAAK,CAAC;QAC9C,EAAE,GAAGD,IAAI,EAAE,CAAC;YACVA,IAAI,GAAG,CAAC;gBAACN,KAAK;YAAC,CAAC;QAClB,CAAC,MAAM,EAAE,GAAGM,IAAI,CAACN,KAAK,EAAE,CAAC;YACvBM,IAAI,CAACN,KAAK,GAAGA,KAAK;QACpB,CAAC;QACD,MAAM,KAZH,UAA+B,UAYrBK,GAAG,EAAEC,IAAI,KAAKC,IAAI;IACjC,CAAC;IACDT,MAAM,CAACC,KAAK,GAAGK,cAAc;IAC7BN,MAAM,CAACU,OAAO,GAfT,UAA+B;IAgBpCV,MAAM,CAACW,OAAO,GAhBT,UAA+B;IAiBpCX,MAAM,CAACY,QAAQ,GAjBV,UAA+B;AAkBtC,CAAC"}