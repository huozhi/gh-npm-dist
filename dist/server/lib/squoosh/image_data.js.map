{"version":3,"sources":["../../../../server/lib/squoosh/image_data.ts"],"sourcesContent":["export default class ImageData {\n  static from(input: ImageData): ImageData {\n    return new ImageData(input.data || input._data, input.width, input.height)\n  }\n\n  private _data: Buffer | Uint8Array | Uint8ClampedArray\n  width: number\n  height: number\n\n  get data(): Buffer {\n    if (Object.prototype.toString.call(this._data) === '[object Object]') {\n      return Buffer.from(Object.values(this._data))\n    }\n    if (\n      this._data instanceof Buffer ||\n      this._data instanceof Uint8Array ||\n      this._data instanceof Uint8ClampedArray\n    ) {\n      return Buffer.from(this._data)\n    }\n    throw new Error('invariant')\n  }\n\n  constructor(\n    data: Buffer | Uint8Array | Uint8ClampedArray,\n    width: number,\n    height: number\n  ) {\n    this._data = data\n    this.width = width\n    this.height = height\n  }\n}\n"],"names":["ImageData","from","input","data","_data","width","height","Object","prototype","toString","call","Buffer","values","Uint8Array","Uint8ClampedArray","Error"],"mappings":";;;;;MAAqBA,SAAS;WACrBC,IAAI,CAACC,KAAgB,EAAa,CAAC;QACxC,MAAM,CAAC,GAAG,CAACF,SAAS,CAACE,KAAK,CAACC,IAAI,IAAID,KAAK,CAACE,KAAK,EAAEF,KAAK,CAACG,KAAK,EAAEH,KAAK,CAACI,MAAM;IAC3E,CAAC;QAMGH,IAAI,GAAW,CAAC;QAClB,EAAE,EAAEI,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACC,IAAI,CAAC,IAAI,CAACN,KAAK,MAAM,CAAiB,kBAAE,CAAC;YACrE,MAAM,CAACO,MAAM,CAACV,IAAI,CAACM,MAAM,CAACK,MAAM,CAAC,IAAI,CAACR,KAAK;QAC7C,CAAC;QACD,EAAE,EACA,IAAI,CAACA,KAAK,YAAYO,MAAM,IAC5B,IAAI,CAACP,KAAK,YAAYS,UAAU,IAChC,IAAI,CAACT,KAAK,YAAYU,iBAAiB,EACvC,CAAC;YACD,MAAM,CAACH,MAAM,CAACV,IAAI,CAAC,IAAI,CAACG,KAAK;QAC/B,CAAC;QACD,KAAK,CAAC,GAAG,CAACW,KAAK,CAAC,CAAW;IAC7B,CAAC;gBAGCZ,IAA6C,EAC7CE,KAAa,EACbC,MAAc,CACd,CAAC;QACD,IAAI,CAACF,KAAK,GAAGD,IAAI;QACjB,IAAI,CAACE,KAAK,GAAGA,KAAK;QAClB,IAAI,CAACC,MAAM,GAAGA,MAAM;IACtB,CAAC;;kBA/BkBN,SAAS"}