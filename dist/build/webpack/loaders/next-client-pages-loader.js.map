{"version":3,"sources":["../../../../build/webpack/loaders/next-client-pages-loader.ts"],"sourcesContent":["import { stringifyRequest } from '../stringify-request'\n\nexport type ClientPagesLoaderOptions = {\n  absolutePagePath: string\n  page: string\n}\n\n// this parameter: https://www.typescriptlang.org/docs/handbook/functions.html#this-parameters\nfunction nextClientPagesLoader(this: any) {\n  const pagesLoaderSpan = this.currentTraceSpan.traceChild(\n    'next-client-pages-loader'\n  )\n\n  return pagesLoaderSpan.traceFn(() => {\n    const { absolutePagePath, page } =\n      this.getOptions() as ClientPagesLoaderOptions\n\n    pagesLoaderSpan.setAttribute('absolutePagePath', absolutePagePath)\n\n    const stringifiedPagePath = stringifyRequest(this, absolutePagePath)\n    const stringifiedPage = JSON.stringify(page)\n\n    return `\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      ${stringifiedPage},\n      function () {\n        return require(${stringifiedPagePath});\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([${stringifiedPage}])\n      });\n    }\n  `\n  })\n}\n\nexport default nextClientPagesLoader\n"],"names":["nextClientPagesLoader","pagesLoaderSpan","currentTraceSpan","traceChild","traceFn","absolutePagePath","page","getOptions","setAttribute","stringifiedPagePath","stringifiedPage","JSON","stringify"],"mappings":";;;;;AAAiC,GAAsB,CAAtB,iBAAsB;AAOvD,EAA8F,AAA9F,4FAA8F;SACrFA,qBAAqB,GAAY,CAAC;IACzC,KAAK,CAACC,eAAe,GAAG,IAAI,CAACC,gBAAgB,CAACC,UAAU,CACtD,CAA0B;IAG5B,MAAM,CAACF,eAAe,CAACG,OAAO,KAAO,CAAC;QACpC,KAAK,CAAC,CAAC,CAACC,gBAAgB,GAAEC,IAAI,EAAC,CAAC,GAC9B,IAAI,CAACC,UAAU;QAEjBN,eAAe,CAACO,YAAY,CAAC,CAAkB,mBAAEH,gBAAgB;QAEjE,KAAK,CAACI,mBAAmB,OAnBI,iBAAsB,mBAmBN,IAAI,EAAEJ,gBAAgB;QACnE,KAAK,CAACK,eAAe,GAAGC,IAAI,CAACC,SAAS,CAACN,IAAI;QAE3C,MAAM,EAAE;;MAEN,EAAEI,eAAe,CAAC;;uBAED,EAAED,mBAAmB,CAAC;;;;;8BAKf,EAAEC,eAAe,CAAC;;;EAG9C;IACA,CAAC;AACH,CAAC;eAEcV,qBAAqB"}