{"version":3,"sources":["../../../../build/webpack/loaders/error-loader.ts"],"sourcesContent":["import chalk from 'next/dist/compiled/chalk'\nimport path from 'path'\nimport { webpack } from 'next/dist/compiled/webpack/webpack'\n\nconst ErrorLoader: webpack.loader.Loader = function () {\n  // @ts-ignore exists\n  const options = this.getOptions() || {}\n\n  const { reason = 'An unknown error has occurred' } = options\n\n  const resource = this._module?.issuer?.resource ?? null\n  const context = this.rootContext ?? this._compiler?.context\n\n  const issuer = resource\n    ? context\n      ? path.relative(context, resource)\n      : resource\n    : null\n\n  const err = new Error(\n    reason + (issuer ? `\\nLocation: ${chalk.cyan(issuer)}` : '')\n  )\n  this.emitError(err)\n}\n\nexport default ErrorLoader\n"],"names":["ErrorLoader","options","getOptions","reason","resource","_module","issuer","context","rootContext","_compiler","relative","err","Error","cyan","emitError"],"mappings":";;;;;AAAkB,GAA0B,CAA1B,MAA0B;AAC3B,GAAM,CAAN,KAAM;;;;;;AAGvB,KAAK,CAACA,WAAW,GAA0B,QAAQ,GAAI,CAAC;QAMrC,GAAY,QACO,IAAc;IANlD,EAAoB,AAApB,kBAAoB;IACpB,KAAK,CAACC,OAAO,GAAG,IAAI,CAACC,UAAU,MAAM,CAAC,CAAC;IAEvC,KAAK,CAAC,CAAC,CAACC,MAAM,EAAG,CAA+B,gCAAC,CAAC,GAAGF,OAAO;QAE3C,IAA8B;IAA/C,KAAK,CAACG,QAAQ,IAAG,IAA8B,IAA9B,GAAY,GAAZ,IAAI,CAACC,OAAO,cAAZ,GAAY,KAAZ,IAAI,CAAJ,CAAoB,GAApB,IAAI,CAAJ,CAAoB,WAApB,GAAY,CAAEC,MAAM,uBAApB,IAAI,CAAJ,CAAoB,GAApB,IAAI,CAAJ,CAAoB,QAAEF,QAAQ,cAA9B,IAA8B,cAA9B,IAA8B,GAAI,IAAI;QACvC,YAAgB;IAAhC,KAAK,CAACG,OAAO,IAAG,YAAgB,GAAhB,IAAI,CAACC,WAAW,cAAhB,YAAgB,cAAhB,YAAgB,IAAI,IAAc,GAAd,IAAI,CAACC,SAAS,cAAd,IAAc,KAAd,IAAI,CAAJ,CAAuB,GAAvB,IAAI,CAAJ,CAAuB,GAAvB,IAAc,CAAEF,OAAO;IAE3D,KAAK,CAACD,MAAM,GAAGF,QAAQ,GACnBG,OAAO,GAbI,KAAM,SAcVG,QAAQ,CAACH,OAAO,EAAEH,QAAQ,IAC/BA,QAAQ,GACV,IAAI;IAER,KAAK,CAACO,GAAG,GAAG,GAAG,CAACC,KAAK,CACnBT,MAAM,IAAIG,MAAM,IAAI,YAAY,EApBlB,MAA0B,SAoBAO,IAAI,CAACP,MAAM,MAAM,CAAE;IAE7D,IAAI,CAACQ,SAAS,CAACH,GAAG;AACpB,CAAC;eAEcX,WAAW"}