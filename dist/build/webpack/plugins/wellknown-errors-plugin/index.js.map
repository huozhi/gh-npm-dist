{"version":3,"sources":["../../../../../build/webpack/plugins/wellknown-errors-plugin/index.ts"],"sourcesContent":["import type { webpack5 as webpack } from 'next/dist/compiled/webpack/webpack'\nimport { getModuleBuildError } from './webpackModuleError'\n\nexport class WellKnownErrorsPlugin {\n  apply(compiler: webpack.Compiler) {\n    compiler.hooks.compilation.tap('WellKnownErrorsPlugin', (compilation) => {\n      compilation.hooks.afterSeal.tapPromise(\n        'WellKnownErrorsPlugin',\n        async () => {\n          if (compilation.errors?.length) {\n            await Promise.all(\n              compilation.errors.map(async (err, i) => {\n                try {\n                  const moduleError = await getModuleBuildError(\n                    compilation,\n                    err\n                  )\n                  if (moduleError !== false) {\n                    compilation.errors[i] = moduleError\n                  }\n                } catch (e) {\n                  console.log(e)\n                }\n              })\n            )\n          }\n        }\n      )\n    })\n  }\n}\n"],"names":["WellKnownErrorsPlugin","apply","compiler","hooks","compilation","tap","afterSeal","tapPromise","errors","length","Promise","all","map","err","i","moduleError","e","console","log"],"mappings":";;;;AACoC,GAAsB,CAAtB,mBAAsB;MAE7CA,qBAAqB;IAChCC,KAAK,CAACC,QAA0B,EAAE,CAAC;QACjCA,QAAQ,CAACC,KAAK,CAACC,WAAW,CAACC,GAAG,CAAC,CAAuB,yBAAGD,WAAW,GAAK,CAAC;YACxEA,WAAW,CAACD,KAAK,CAACG,SAAS,CAACC,UAAU,CACpC,CAAuB,kCACX,CAAC;oBACPH,GAAkB;gBAAtB,EAAE,GAAEA,GAAkB,GAAlBA,WAAW,CAACI,MAAM,cAAlBJ,GAAkB,KAAlBA,IAAI,CAAJA,CAA0B,GAA1BA,IAAI,CAAJA,CAA0B,GAA1BA,GAAkB,CAAEK,MAAM,EAAE,CAAC;oBAC/B,KAAK,CAACC,OAAO,CAACC,GAAG,CACfP,WAAW,CAACI,MAAM,CAACI,GAAG,QAAQC,GAAG,EAAEC,CAAC,GAAK,CAAC;wBACxC,GAAG,CAAC,CAAC;4BACH,KAAK,CAACC,WAAW,GAAG,KAAK,KAZP,mBAAsB,sBAatCX,WAAW,EACXS,GAAG;4BAEL,EAAE,EAAEE,WAAW,KAAK,KAAK,EAAE,CAAC;gCAC1BX,WAAW,CAACI,MAAM,CAACM,CAAC,IAAIC,WAAW;4BACrC,CAAC;wBACH,CAAC,CAAC,KAAK,EAAEC,CAAC,EAAE,CAAC;4BACXC,OAAO,CAACC,GAAG,CAACF,CAAC;wBACf,CAAC;oBACH,CAAC;gBAEL,CAAC;YACH,CAAC;QAEL,CAAC;IACH,CAAC;;QA1BUhB,qBAAqB,GAArBA,qBAAqB"}