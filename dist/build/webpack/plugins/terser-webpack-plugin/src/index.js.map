{"version":3,"sources":["../../../../../../build/webpack/plugins/terser-webpack-plugin/src/index.js"],"sourcesContent":["// @ts-nocheck\nimport * as path from 'path'\nimport {\n  webpack,\n  ModuleFilenameHelpers,\n  sources,\n} from 'next/dist/compiled/webpack/webpack'\nimport pLimit from 'next/dist/compiled/p-limit'\nimport { Worker } from 'next/dist/compiled/jest-worker'\nimport { spans } from '../../profiling-plugin'\n\nfunction getEcmaVersion(environment) {\n  // ES 6th\n  if (\n    environment.arrowFunction ||\n    environment.const ||\n    environment.destructuring ||\n    environment.forOf ||\n    environment.module\n  ) {\n    return 2015\n  }\n\n  // ES 11th\n  if (environment.bigIntLiteral || environment.dynamicImport) {\n    return 2020\n  }\n\n  return 5\n}\n\nfunction buildError(error, file) {\n  if (error.line) {\n    return new Error(\n      `${file} from Terser\\n${error.message} [${file}:${error.line},${\n        error.col\n      }]${\n        error.stack ? `\\n${error.stack.split('\\n').slice(1).join('\\n')}` : ''\n      }`\n    )\n  }\n\n  if (error.stack) {\n    return new Error(`${file} from Terser\\n${error.message}\\n${error.stack}`)\n  }\n\n  return new Error(`${file} from Terser\\n${error.message}`)\n}\n\nconst debugMinify = process.env.NEXT_DEBUG_MINIFY\n\nexport class TerserPlugin {\n  constructor(options = {}) {\n    const { terserOptions = {}, parallel, swcMinify } = options\n\n    this.options = {\n      swcMinify,\n      parallel,\n      terserOptions,\n    }\n  }\n\n  async optimize(\n    compiler,\n    compilation,\n    assets,\n    optimizeOptions,\n    cache,\n    { SourceMapSource, RawSource }\n  ) {\n    const compilationSpan = spans.get(compilation) || spans.get(compiler)\n    const terserSpan = compilationSpan.traceChild(\n      'terser-webpack-plugin-optimize'\n    )\n    terserSpan.setAttribute('compilationName', compilation.name)\n\n    return terserSpan.traceAsyncFn(async () => {\n      let numberOfAssetsForMinify = 0\n      const assetsList = Object.keys(assets)\n\n      const assetsForMinify = await Promise.all(\n        assetsList\n          .filter((name) => {\n            if (\n              !ModuleFilenameHelpers.matchObject.bind(\n                // eslint-disable-next-line no-undefined\n                undefined,\n                { test: /\\.[cm]?js(\\?.*)?$/i }\n              )(name)\n            ) {\n              return false\n            }\n\n            const res = compilation.getAsset(name)\n            if (!res) {\n              console.log(name)\n              return false\n            }\n\n            // don't minify _middleware as it can break in some cases\n            // and doesn't provide too much of a benefit as it's server-side\n            if (\n              name.match(\n                /(middleware-runtime\\.js|middleware-chunks|_middleware\\.js$)/\n              )\n            ) {\n              return false\n            }\n\n            const { info } = res\n\n            // Skip double minimize assets from child compilation\n            if (info.minimized) {\n              return false\n            }\n\n            return true\n          })\n          .map(async (name) => {\n            const { info, source } = compilation.getAsset(name)\n\n            const eTag = cache.getLazyHashedEtag(source)\n            const output = await cache.getPromise(name, eTag)\n\n            if (!output) {\n              numberOfAssetsForMinify += 1\n            }\n\n            if (debugMinify && debugMinify === '1') {\n              console.dir(\n                {\n                  name,\n                  source: source.source().toString(),\n                },\n                {\n                  breakLength: Infinity,\n                  maxStringLength: Infinity,\n                }\n              )\n            }\n            return { name, info, inputSource: source, output, eTag }\n          })\n      )\n\n      const numberOfWorkers = Math.min(\n        numberOfAssetsForMinify,\n        optimizeOptions.availableNumberOfCores\n      )\n\n      let initializedWorker\n\n      // eslint-disable-next-line consistent-return\n      const getWorker = () => {\n        if (this.options.swcMinify) {\n          return {\n            minify: async (options) => {\n              const result = await require('../../../../swc').minify(\n                options.input,\n                {\n                  ...(options.inputSourceMap\n                    ? {\n                        sourceMap: {\n                          content: JSON.stringify(options.inputSourceMap),\n                        },\n                      }\n                    : {}),\n                  compress: true,\n                  mangle: true,\n                }\n              )\n\n              return result\n            },\n          }\n        }\n\n        if (initializedWorker) {\n          return initializedWorker\n        }\n\n        initializedWorker = new Worker(path.join(__dirname, './minify.js'), {\n          numWorkers: numberOfWorkers,\n          enableWorkerThreads: true,\n        })\n\n        initializedWorker.getStdout().pipe(process.stdout)\n        initializedWorker.getStderr().pipe(process.stderr)\n\n        return initializedWorker\n      }\n\n      const limit = pLimit(\n        // When using the SWC minifier the limit will be handled by Node.js\n        this.options.swcMinify\n          ? Infinity\n          : numberOfAssetsForMinify > 0\n          ? numberOfWorkers\n          : Infinity\n      )\n      const scheduledTasks = []\n\n      for (const asset of assetsForMinify) {\n        scheduledTasks.push(\n          limit(async () => {\n            const { name, inputSource, info, eTag } = asset\n            let { output } = asset\n\n            const minifySpan = terserSpan.traceChild('minify-js')\n            minifySpan.setAttribute('name', name)\n            minifySpan.setAttribute(\n              'cache',\n              typeof output === 'undefined' ? 'MISS' : 'HIT'\n            )\n\n            return minifySpan.traceAsyncFn(async () => {\n              if (!output) {\n                const { source: sourceFromInputSource, map: inputSourceMap } =\n                  inputSource.sourceAndMap()\n\n                const input = Buffer.isBuffer(sourceFromInputSource)\n                  ? sourceFromInputSource.toString()\n                  : sourceFromInputSource\n\n                const options = {\n                  name,\n                  input,\n                  inputSourceMap,\n                  terserOptions: { ...this.options.terserOptions },\n                }\n\n                if (typeof options.terserOptions.module === 'undefined') {\n                  if (typeof info.javascriptModule !== 'undefined') {\n                    options.terserOptions.module = info.javascriptModule\n                  } else if (/\\.mjs(\\?.*)?$/i.test(name)) {\n                    options.terserOptions.module = true\n                  } else if (/\\.cjs(\\?.*)?$/i.test(name)) {\n                    options.terserOptions.module = false\n                  }\n                }\n\n                try {\n                  output = await getWorker().minify(options)\n                } catch (error) {\n                  compilation.errors.push(buildError(error, name))\n\n                  return\n                }\n\n                if (output.map) {\n                  output.source = new SourceMapSource(\n                    output.code,\n                    name,\n                    output.map,\n                    input,\n                    /** @type {SourceMapRawSourceMap} */ (inputSourceMap),\n                    true\n                  )\n                } else {\n                  output.source = new RawSource(output.code)\n                }\n\n                await cache.storePromise(name, eTag, {\n                  source: output.source,\n                })\n              }\n\n              /** @type {AssetInfo} */\n              const newInfo = { minimized: true }\n              const { source } = output\n\n              compilation.updateAsset(name, source, newInfo)\n            })\n          })\n        )\n      }\n\n      await Promise.all(scheduledTasks)\n\n      if (initializedWorker) {\n        await initializedWorker.end()\n      }\n    })\n  }\n\n  /**\n   * @param {Compiler} compiler\n   * @returns {void}\n   */\n  apply(compiler) {\n    const { SourceMapSource, RawSource } = compiler?.webpack?.sources || sources\n    const { output } = compiler.options\n\n    if (typeof this.options.terserOptions.ecma === 'undefined') {\n      this.options.terserOptions.ecma = getEcmaVersion(output.environment || {})\n    }\n\n    const pluginName = this.constructor.name\n    const availableNumberOfCores = this.options.parallel\n\n    compiler.hooks.thisCompilation.tap(pluginName, (compilation) => {\n      const cache = compilation.getCache('TerserWebpackPlugin')\n\n      const handleHashForChunk = (hash, chunk) => {\n        // increment 'c' to invalidate cache\n        hash.update('c')\n      }\n\n      const JSModulesHooks =\n        webpack.javascript.JavascriptModulesPlugin.getCompilationHooks(\n          compilation\n        )\n      JSModulesHooks.chunkHash.tap(pluginName, (chunk, hash) => {\n        if (!chunk.hasRuntime()) return\n        return handleHashForChunk(hash, chunk)\n      })\n\n      compilation.hooks.processAssets.tapPromise(\n        {\n          name: pluginName,\n          stage: webpack.Compilation.PROCESS_ASSETS_STAGE_OPTIMIZE_SIZE,\n        },\n        (assets) =>\n          this.optimize(\n            compiler,\n            compilation,\n            assets,\n            {\n              availableNumberOfCores,\n            },\n            cache,\n            { SourceMapSource, RawSource }\n          )\n      )\n\n      compilation.hooks.statsPrinter.tap(pluginName, (stats) => {\n        stats.hooks.print\n          .for('asset.info.minimized')\n          .tap('terser-webpack-plugin', (minimized, { green, formatFlag }) =>\n            // eslint-disable-next-line no-undefined\n            minimized ? green(formatFlag('minimized')) : undefined\n          )\n      })\n    })\n  }\n}\n"],"names":["path","getEcmaVersion","environment","arrowFunction","const","destructuring","forOf","module","bigIntLiteral","dynamicImport","buildError","error","file","line","Error","message","col","stack","split","slice","join","debugMinify","process","env","NEXT_DEBUG_MINIFY","TerserPlugin","options","terserOptions","parallel","swcMinify","optimize","compiler","compilation","assets","optimizeOptions","cache","SourceMapSource","RawSource","compilationSpan","get","terserSpan","traceChild","setAttribute","name","traceAsyncFn","numberOfAssetsForMinify","assetsList","Object","keys","assetsForMinify","Promise","all","filter","matchObject","bind","undefined","test","res","getAsset","console","log","match","info","minimized","map","source","eTag","getLazyHashedEtag","output","getPromise","dir","toString","breakLength","Infinity","maxStringLength","inputSource","numberOfWorkers","Math","min","availableNumberOfCores","initializedWorker","getWorker","minify","result","require","input","inputSourceMap","sourceMap","content","JSON","stringify","compress","mangle","__dirname","numWorkers","enableWorkerThreads","getStdout","pipe","stdout","getStderr","stderr","limit","scheduledTasks","asset","push","minifySpan","sourceFromInputSource","sourceAndMap","Buffer","isBuffer","javascriptModule","errors","code","storePromise","newInfo","updateAsset","end","apply","webpack","sources","ecma","pluginName","constructor","hooks","thisCompilation","tap","getCache","handleHashForChunk","hash","chunk","update","JSModulesHooks","javascript","JavascriptModulesPlugin","getCompilationHooks","chunkHash","hasRuntime","processAssets","tapPromise","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_SIZE","statsPrinter","stats","print","for","green","formatFlag"],"mappings":"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"}