{"version":3,"sources":["../../../../../../build/webpack/config/blocks/css/index.ts"],"sourcesContent":["import curry from 'next/dist/compiled/lodash.curry'\nimport { webpack } from 'next/dist/compiled/webpack/webpack'\nimport MiniCssExtractPlugin from '../../../plugins/mini-css-extract-plugin'\nimport { loader, plugin } from '../../helpers'\nimport { ConfigurationContext, ConfigurationFn, pipe } from '../../utils'\nimport { getCssModuleLoader, getGlobalCssLoader } from './loaders'\nimport {\n  getCustomDocumentError,\n  getGlobalImportError,\n  getGlobalModuleImportError,\n  getLocalModuleImportError,\n} from './messages'\nimport { getPostCssPlugins } from './plugins'\n\n// RegExps for all Style Sheet variants\nexport const regexLikeCss = /\\.(css|scss|sass)$/\n\n// RegExps for Style Sheets\nconst regexCssGlobal = /(?<!\\.module)\\.css$/\nconst regexCssModules = /\\.module\\.css$/\n\n// RegExps for Syntactically Awesome Style Sheets\nconst regexSassGlobal = /(?<!\\.module)\\.(scss|sass)$/\nconst regexSassModules = /\\.module\\.(scss|sass)$/\n\n/**\n * Mark a rule as removable if built-in CSS support is disabled\n *\n * @param {webpack.RuleSetRule} r the rule to mark\n *\n * @returns {webpack.RuleSetRule} the marked rule\n */\nfunction markRemovable(r: webpack.RuleSetRule): webpack.RuleSetRule {\n  Object.defineProperty(r, Symbol.for('__next_css_remove'), {\n    enumerable: false,\n    value: true,\n  })\n  return r\n}\n\nlet postcssInstancePromise: Promise<any>\nexport async function lazyPostCSS(\n  rootDirectory: string,\n  supportedBrowsers: string[] | undefined,\n  disablePostcssPresetEnv: boolean | undefined\n) {\n  if (!postcssInstancePromise) {\n    postcssInstancePromise = (async () => {\n      const postcss = require('postcss')\n      // @ts-ignore backwards compat\n      postcss.plugin = function postcssPlugin(name, initializer) {\n        function creator(...args: any) {\n          let transformer = initializer(...args)\n          transformer.postcssPlugin = name\n          // transformer.postcssVersion = new Processor().version\n          return transformer\n        }\n\n        let cache: any\n        Object.defineProperty(creator, 'postcss', {\n          get() {\n            if (!cache) cache = creator()\n            return cache\n          },\n        })\n\n        creator.process = function (\n          css: any,\n          processOpts: any,\n          pluginOpts: any\n        ) {\n          return postcss([creator(pluginOpts)]).process(css, processOpts)\n        }\n\n        return creator\n      }\n\n      // @ts-ignore backwards compat\n      postcss.vendor = {\n        /**\n         * Returns the vendor prefix extracted from an input string.\n         *\n         * @param {string} prop String with or without vendor prefix.\n         *\n         * @return {string} vendor prefix or empty string\n         *\n         * @example\n         * postcss.vendor.prefix('-moz-tab-size') //=> '-moz-'\n         * postcss.vendor.prefix('tab-size')      //=> ''\n         */\n        prefix: function prefix(prop: any) {\n          const match = prop.match(/^(-\\w+-)/)\n\n          if (match) {\n            return match[0]\n          }\n\n          return ''\n        },\n\n        /**\n         * Returns the input string stripped of its vendor prefix.\n         *\n         * @param {string} prop String with or without vendor prefix.\n         *\n         * @return {string} String name without vendor prefixes.\n         *\n         * @example\n         * postcss.vendor.unprefixed('-moz-tab-size') //=> 'tab-size'\n         */\n        unprefixed: function unprefixed(prop: any) {\n          return prop.replace(/^-\\w+-/, '')\n        },\n      }\n\n      const postCssPlugins = await getPostCssPlugins(\n        rootDirectory,\n        supportedBrowsers,\n        disablePostcssPresetEnv\n      )\n\n      return {\n        postcss,\n        postcssWithPlugins: postcss(postCssPlugins),\n      }\n    })()\n  }\n\n  return postcssInstancePromise\n}\n\nexport const css = curry(async function css(\n  ctx: ConfigurationContext,\n  config: webpack.Configuration\n) {\n  const {\n    prependData: sassPrependData,\n    additionalData: sassAdditionalData,\n    ...sassOptions\n  } = ctx.sassOptions\n\n  const lazyPostCSSInitializer = () =>\n    lazyPostCSS(\n      ctx.rootDirectory,\n      ctx.supportedBrowsers,\n      ctx.experimental.disablePostcssPresetEnv\n    )\n\n  const sassPreprocessors: webpack.RuleSetUseItem[] = [\n    // First, process files with `sass-loader`: this inlines content, and\n    // compiles away the proprietary syntax.\n    {\n      loader: require.resolve('next/dist/compiled/sass-loader'),\n      options: {\n        // Source maps are required so that `resolve-url-loader` can locate\n        // files original to their source directory.\n        sourceMap: true,\n        sassOptions,\n        additionalData: sassPrependData || sassAdditionalData,\n      },\n    },\n    // Then, `sass-loader` will have passed-through CSS imports as-is instead\n    // of inlining them. Because they were inlined, the paths are no longer\n    // correct.\n    // To fix this, we use `resolve-url-loader` to rewrite the CSS\n    // imports to real file paths.\n    {\n      loader: require.resolve('../../../loaders/resolve-url-loader/index'),\n      options: {\n        postcss: lazyPostCSSInitializer,\n        // Source maps are not required here, but we may as well emit\n        // them.\n        sourceMap: true,\n      },\n    },\n  ]\n\n  const fns: ConfigurationFn[] = []\n\n  // CSS cannot be imported in _document. This comes before everything because\n  // global CSS nor CSS modules work in said file.\n  fns.push(\n    loader({\n      oneOf: [\n        markRemovable({\n          test: regexLikeCss,\n          // Use a loose regex so we don't have to crawl the file system to\n          // find the real file name (if present).\n          issuer: /pages[\\\\/]_document\\./,\n          use: {\n            loader: 'error-loader',\n            options: {\n              reason: getCustomDocumentError(),\n            },\n          },\n        }),\n      ],\n    })\n  )\n\n  // CSS Modules support must be enabled on the server and client so the class\n  // names are available for SSR or Prerendering.\n  fns.push(\n    loader({\n      oneOf: [\n        markRemovable({\n          // CSS Modules should never have side effects. This setting will\n          // allow unused CSS to be removed from the production build.\n          // We ensure this by disallowing `:global()` CSS at the top-level\n          // via the `pure` mode in `css-loader`.\n          sideEffects: false,\n          // CSS Modules are activated via this specific extension.\n          test: regexCssModules,\n          // CSS Modules are only supported in the user's application. We're\n          // not yet allowing CSS imports _within_ `node_modules`.\n          issuer: {\n            and: [ctx.rootDirectory],\n            not: [/node_modules/],\n          },\n          use: getCssModuleLoader(ctx, lazyPostCSSInitializer),\n        }),\n      ],\n    })\n  )\n  fns.push(\n    loader({\n      oneOf: [\n        // Opt-in support for Sass (using .scss or .sass extensions).\n        markRemovable({\n          // Sass Modules should never have side effects. This setting will\n          // allow unused Sass to be removed from the production build.\n          // We ensure this by disallowing `:global()` Sass at the top-level\n          // via the `pure` mode in `css-loader`.\n          sideEffects: false,\n          // Sass Modules are activated via this specific extension.\n          test: regexSassModules,\n          // Sass Modules are only supported in the user's application. We're\n          // not yet allowing Sass imports _within_ `node_modules`.\n          issuer: {\n            and: [ctx.rootDirectory],\n            not: [/node_modules/],\n          },\n          use: getCssModuleLoader(\n            ctx,\n            lazyPostCSSInitializer,\n            sassPreprocessors\n          ),\n        }),\n      ],\n    })\n  )\n\n  // Throw an error for CSS Modules used outside their supported scope\n  fns.push(\n    loader({\n      oneOf: [\n        markRemovable({\n          test: [regexCssModules, regexSassModules],\n          use: {\n            loader: 'error-loader',\n            options: {\n              reason: getLocalModuleImportError(),\n            },\n          },\n        }),\n      ],\n    })\n  )\n\n  if (ctx.isServer) {\n    fns.push(\n      loader({\n        oneOf: [\n          markRemovable({\n            test: [regexCssGlobal, regexSassGlobal],\n            use: require.resolve('next/dist/compiled/ignore-loader'),\n          }),\n        ],\n      })\n    )\n  } else {\n    fns.push(\n      loader({\n        oneOf: [\n          markRemovable({\n            // A global CSS import always has side effects. Webpack will tree\n            // shake the CSS without this option if the issuer claims to have\n            // no side-effects.\n            // See https://github.com/webpack/webpack/issues/6571\n            sideEffects: true,\n            test: regexCssGlobal,\n            // We only allow Global CSS to be imported anywhere in the\n            // application if it comes from node_modules. This is a best-effort\n            // heuristic that makes a safety trade-off for better\n            // interoperability with npm packages that require CSS. Without\n            // this ability, the component's CSS would have to be included for\n            // the entire app instead of specific page where it's required.\n            include: { and: [/node_modules/] },\n            // Global CSS is only supported in the user's application, not in\n            // node_modules.\n            issuer: ctx.experimental.craCompat\n              ? undefined\n              : {\n                  and: [ctx.rootDirectory],\n                  not: [/node_modules/],\n                },\n            use: getGlobalCssLoader(ctx, lazyPostCSSInitializer),\n          }),\n        ],\n      })\n    )\n\n    if (ctx.customAppFile) {\n      fns.push(\n        loader({\n          oneOf: [\n            markRemovable({\n              // A global CSS import always has side effects. Webpack will tree\n              // shake the CSS without this option if the issuer claims to have\n              // no side-effects.\n              // See https://github.com/webpack/webpack/issues/6571\n              sideEffects: true,\n              test: regexCssGlobal,\n              issuer: { and: [ctx.customAppFile] },\n              use: getGlobalCssLoader(ctx, lazyPostCSSInitializer),\n            }),\n          ],\n        })\n      )\n      fns.push(\n        loader({\n          oneOf: [\n            markRemovable({\n              // A global Sass import always has side effects. Webpack will tree\n              // shake the Sass without this option if the issuer claims to have\n              // no side-effects.\n              // See https://github.com/webpack/webpack/issues/6571\n              sideEffects: true,\n              test: regexSassGlobal,\n              issuer: { and: [ctx.customAppFile] },\n              use: getGlobalCssLoader(\n                ctx,\n                lazyPostCSSInitializer,\n                sassPreprocessors\n              ),\n            }),\n          ],\n        })\n      )\n    }\n  }\n\n  // Throw an error for Global CSS used inside of `node_modules`\n  if (!ctx.experimental.craCompat) {\n    fns.push(\n      loader({\n        oneOf: [\n          markRemovable({\n            test: [regexCssGlobal, regexSassGlobal],\n            issuer: { and: [/node_modules/] },\n            use: {\n              loader: 'error-loader',\n              options: {\n                reason: getGlobalModuleImportError(),\n              },\n            },\n          }),\n        ],\n      })\n    )\n  }\n\n  // Throw an error for Global CSS used outside of our custom <App> file\n  fns.push(\n    loader({\n      oneOf: [\n        markRemovable({\n          test: [regexCssGlobal, regexSassGlobal],\n          use: {\n            loader: 'error-loader',\n            options: {\n              reason: getGlobalImportError(),\n            },\n          },\n        }),\n      ],\n    })\n  )\n\n  if (ctx.isClient) {\n    // Automatically transform references to files (i.e. url()) into URLs\n    // e.g. url(./logo.svg)\n    fns.push(\n      loader({\n        oneOf: [\n          markRemovable({\n            // This should only be applied to CSS files\n            issuer: regexLikeCss,\n            // Exclude extensions that webpack handles by default\n            exclude: [\n              /\\.(js|mjs|jsx|ts|tsx)$/,\n              /\\.html$/,\n              /\\.json$/,\n              /\\.webpack\\[[^\\]]+\\]$/,\n            ],\n            // `asset/resource` always emits a URL reference, where `asset`\n            // might inline the asset as a data URI\n            type: 'asset/resource',\n          }),\n        ],\n      })\n    )\n  }\n\n  if (ctx.isClient && ctx.isProduction) {\n    // Extract CSS as CSS file(s) in the client-side production bundle.\n    fns.push(\n      plugin(\n        // @ts-ignore webpack 5 compat\n        new MiniCssExtractPlugin({\n          filename: 'static/css/[contenthash].css',\n          chunkFilename: 'static/css/[contenthash].css',\n          // Next.js guarantees that CSS order \"doesn't matter\", due to imposed\n          // restrictions:\n          // 1. Global CSS can only be defined in a single entrypoint (_app)\n          // 2. CSS Modules generate scoped class names by default and cannot\n          //    include Global CSS (:global() selector).\n          //\n          // While not a perfect guarantee (e.g. liberal use of `:global()`\n          // selector), this assumption is required to code-split CSS.\n          //\n          // If this warning were to trigger, it'd be unactionable by the user,\n          // but likely not valid -- so we disable it.\n          ignoreOrder: true,\n        })\n      )\n    )\n  }\n\n  const fn = pipe(...fns)\n  return fn(config)\n})\n"],"names":["lazyPostCSS","regexLikeCss","regexCssGlobal","regexCssModules","regexSassGlobal","regexSassModules","markRemovable","r","Object","defineProperty","Symbol","for","enumerable","value","postcssInstancePromise","rootDirectory","supportedBrowsers","disablePostcssPresetEnv","postcss","require","plugin","postcssPlugin","name","initializer","creator","args","transformer","cache","get","process","css","processOpts","pluginOpts","vendor","prefix","prop","match","unprefixed","replace","postCssPlugins","postcssWithPlugins","ctx","config","prependData","sassPrependData","additionalData","sassAdditionalData","sassOptions","lazyPostCSSInitializer","experimental","sassPreprocessors","loader","resolve","options","sourceMap","fns","push","oneOf","test","issuer","use","reason","sideEffects","and","not","isServer","include","craCompat","undefined","customAppFile","isClient","exclude","type","isProduction","filename","chunkFilename","ignoreOrder","fn"],"mappings":"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"}