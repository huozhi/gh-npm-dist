{"version":3,"sources":["../../../../../../build/webpack/config/blocks/images/index.ts"],"sourcesContent":["import curry from 'next/dist/compiled/lodash.curry'\nimport { webpack } from 'next/dist/compiled/webpack/webpack'\nimport { nextImageLoaderRegex } from '../../../../webpack-config'\nimport { loader } from '../../helpers'\nimport { ConfigurationContext, ConfigurationFn, pipe } from '../../utils'\nimport { getCustomDocumentImageError } from './messages'\n\nexport const images = curry(async function images(\n  _ctx: ConfigurationContext,\n  config: webpack.Configuration\n) {\n  const fns: ConfigurationFn[] = [\n    loader({\n      oneOf: [\n        {\n          test: nextImageLoaderRegex,\n          use: {\n            loader: 'error-loader',\n            options: {\n              reason: getCustomDocumentImageError(),\n            },\n          },\n          issuer: /pages[\\\\/]_document\\./,\n        },\n      ],\n    }),\n  ]\n\n  const fn = pipe(...fns)\n  return fn(config)\n})\n"],"names":["images","_ctx","config","fns","oneOf","test","use","loader","options","reason","issuer","fn"],"mappings":";;;;;AAAkB,GAAiC,CAAjC,YAAiC;AAEd,GAA4B,CAA5B,cAA4B;AAC1C,GAAe,CAAf,QAAe;AACsB,GAAa,CAAb,MAAa;AAC7B,GAAY,CAAZ,SAAY;;;;;;AAEjD,KAAK,CAACA,MAAM,OAPD,YAAiC,yBAORA,MAAM,CAC/CC,IAA0B,EAC1BC,MAA6B,EAC7B,CAAC;IACD,KAAK,CAACC,GAAG,GAAsB,CAAC;YARX,QAAe,SAS3B,CAAC;YACNC,KAAK,EAAE,CAAC;gBACN,CAAC;oBACCC,IAAI,EAbuB,cAA4B;oBAcvDC,GAAG,EAAE,CAAC;wBACJC,MAAM,EAAE,CAAc;wBACtBC,OAAO,EAAE,CAAC;4BACRC,MAAM,MAdwB,SAAY;wBAe5C,CAAC;oBACH,CAAC;oBACDC,MAAM;gBACR,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC;IAED,KAAK,CAACC,EAAE,OAxBkD,MAAa,UAwBpDR,GAAG;IACtB,MAAM,CAACQ,EAAE,CAACT,MAAM;AAClB,CAAC;QAvBYF,MAAM,GAANA,MAAM"}