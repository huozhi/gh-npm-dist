{"version":3,"sources":["../../build/entries.ts"],"sourcesContent":["import chalk from 'next/dist/compiled/chalk'\nimport { posix, join } from 'path'\nimport { stringify } from 'querystring'\nimport { API_ROUTE, DOT_NEXT_ALIAS, PAGES_DIR_ALIAS } from '../lib/constants'\nimport { MIDDLEWARE_ROUTE } from '../lib/constants'\nimport { __ApiPreviewProps } from '../server/api-utils'\nimport { isTargetLikeServerless } from '../server/utils'\nimport { normalizePagePath } from '../server/normalize-page-path'\nimport { warn } from './output/log'\nimport { MiddlewareLoaderOptions } from './webpack/loaders/next-middleware-loader'\nimport { ClientPagesLoaderOptions } from './webpack/loaders/next-client-pages-loader'\nimport { ServerlessLoaderQuery } from './webpack/loaders/next-serverless-loader'\nimport { LoadedEnvFiles } from '@next/env'\nimport { NextConfigComplete } from '../server/config-shared'\nimport { isCustomErrorPage, isFlightPage, isReservedPage } from './utils'\nimport { ssrEntries } from './webpack/plugins/middleware-plugin'\nimport type { webpack5 } from 'next/dist/compiled/webpack/webpack'\nimport {\n  MIDDLEWARE_RUNTIME_WEBPACK,\n  MIDDLEWARE_SSR_RUNTIME_WEBPACK,\n} from '../shared/lib/constants'\n\ntype ObjectValue<T> = T extends { [key: string]: infer V } ? V : never\nexport type PagesMapping = {\n  [page: string]: string\n}\n\nexport function getPageFromPath(pagePath: string, extensions: string[]) {\n  let page = pagePath.replace(new RegExp(`\\\\.+(${extensions.join('|')})$`), '')\n  page = page.replace(/\\\\/g, '/').replace(/\\/index$/, '')\n  return page === '' ? '/' : page\n}\n\nexport function createPagesMapping(\n  pagePaths: string[],\n  extensions: string[],\n  {\n    isDev,\n    hasServerComponents,\n    hasConcurrentFeatures,\n  }: {\n    isDev: boolean\n    hasServerComponents: boolean\n    hasConcurrentFeatures: boolean\n  }\n): PagesMapping {\n  const previousPages: PagesMapping = {}\n\n  // Do not process .d.ts files inside the `pages` folder\n  pagePaths = extensions.includes('ts')\n    ? pagePaths.filter((pagePath) => !pagePath.endsWith('.d.ts'))\n    : pagePaths\n\n  const pages: PagesMapping = pagePaths.reduce(\n    (result: PagesMapping, pagePath): PagesMapping => {\n      const pageKey = getPageFromPath(pagePath, extensions)\n\n      if (hasServerComponents && /\\.client$/.test(pageKey)) {\n        // Assume that if there's a Client Component, that there is\n        // a matching Server Component that will map to the page.\n        return result\n      }\n\n      if (pageKey in result) {\n        warn(\n          `Duplicate page detected. ${chalk.cyan(\n            join('pages', previousPages[pageKey])\n          )} and ${chalk.cyan(\n            join('pages', pagePath)\n          )} both resolve to ${chalk.cyan(pageKey)}.`\n        )\n      } else {\n        previousPages[pageKey] = pagePath\n      }\n      result[pageKey] = join(PAGES_DIR_ALIAS, pagePath).replace(/\\\\/g, '/')\n      return result\n    },\n    {}\n  )\n\n  // we alias these in development and allow webpack to\n  // allow falling back to the correct source file so\n  // that HMR can work properly when a file is added/removed\n  const documentPage = `_document${hasConcurrentFeatures ? '-web' : ''}`\n  if (isDev) {\n    pages['/_app'] = `${PAGES_DIR_ALIAS}/_app`\n    pages['/_error'] = `${PAGES_DIR_ALIAS}/_error`\n    pages['/_document'] = `${PAGES_DIR_ALIAS}/_document`\n  } else {\n    pages['/_app'] = pages['/_app'] || 'next/dist/pages/_app'\n    pages['/_error'] = pages['/_error'] || 'next/dist/pages/_error'\n    pages['/_document'] =\n      pages['/_document'] || `next/dist/pages/${documentPage}`\n  }\n  return pages\n}\n\ntype Entrypoints = {\n  client: webpack5.EntryObject\n  server: webpack5.EntryObject\n  serverWeb: webpack5.EntryObject\n}\n\nexport function createEntrypoints(\n  pages: PagesMapping,\n  target: 'server' | 'serverless' | 'experimental-serverless-trace',\n  buildId: string,\n  previewMode: __ApiPreviewProps,\n  config: NextConfigComplete,\n  loadedEnvFiles: LoadedEnvFiles\n): Entrypoints {\n  const client: webpack5.EntryObject = {}\n  const server: webpack5.EntryObject = {}\n  const serverWeb: webpack5.EntryObject = {}\n\n  const hasRuntimeConfig =\n    Object.keys(config.publicRuntimeConfig).length > 0 ||\n    Object.keys(config.serverRuntimeConfig).length > 0\n\n  const defaultServerlessOptions = {\n    absoluteAppPath: pages['/_app'],\n    absoluteDocumentPath: pages['/_document'],\n    absoluteErrorPath: pages['/_error'],\n    absolute404Path: pages['/404'] || '',\n    distDir: DOT_NEXT_ALIAS,\n    buildId,\n    assetPrefix: config.assetPrefix,\n    generateEtags: config.generateEtags ? 'true' : '',\n    poweredByHeader: config.poweredByHeader ? 'true' : '',\n    canonicalBase: config.amp.canonicalBase || '',\n    basePath: config.basePath,\n    runtimeConfig: hasRuntimeConfig\n      ? JSON.stringify({\n          publicRuntimeConfig: config.publicRuntimeConfig,\n          serverRuntimeConfig: config.serverRuntimeConfig,\n        })\n      : '',\n    previewProps: JSON.stringify(previewMode),\n    // base64 encode to make sure contents don't break webpack URL loading\n    loadedEnvFiles: Buffer.from(JSON.stringify(loadedEnvFiles)).toString(\n      'base64'\n    ),\n    i18n: config.i18n ? JSON.stringify(config.i18n) : '',\n  }\n\n  Object.keys(pages).forEach((page) => {\n    const absolutePagePath = pages[page]\n    const bundleFile = normalizePagePath(page)\n    const isApiRoute = page.match(API_ROUTE)\n\n    const clientBundlePath = posix.join('pages', bundleFile)\n    const serverBundlePath = posix.join('pages', bundleFile)\n\n    const isLikeServerless = isTargetLikeServerless(target)\n    const isReserved = isReservedPage(page)\n    const isCustomError = isCustomErrorPage(page)\n    const isFlight = isFlightPage(config, absolutePagePath)\n\n    const webServerRuntime = !!config.experimental.concurrentFeatures\n\n    if (page.match(MIDDLEWARE_ROUTE)) {\n      const loaderOpts: MiddlewareLoaderOptions = {\n        absolutePagePath: pages[page],\n        page,\n      }\n\n      client[clientBundlePath] = `next-middleware-loader?${stringify(\n        loaderOpts\n      )}!`\n      return\n    }\n\n    if (webServerRuntime && !isReserved && !isCustomError && !isApiRoute) {\n      ssrEntries.set(clientBundlePath, { requireFlightManifest: isFlight })\n      serverWeb[serverBundlePath] = finalizeEntrypoint({\n        name: '[name].js',\n        value: `next-middleware-ssr-loader?${stringify({\n          dev: false,\n          page,\n          stringifiedConfig: JSON.stringify(config),\n          absolute500Path: pages['/500'] || '',\n          absolutePagePath,\n          isServerComponent: isFlight,\n          ...defaultServerlessOptions,\n        } as any)}!`,\n        isServer: false,\n        isServerWeb: true,\n      })\n    }\n\n    if (isApiRoute && isLikeServerless) {\n      const serverlessLoaderOptions: ServerlessLoaderQuery = {\n        page,\n        absolutePagePath,\n        ...defaultServerlessOptions,\n      }\n      server[serverBundlePath] = `next-serverless-loader?${stringify(\n        serverlessLoaderOptions\n      )}!`\n    } else if (isApiRoute || target === 'server') {\n      if (!webServerRuntime || isReserved || isCustomError) {\n        server[serverBundlePath] = [absolutePagePath]\n      }\n    } else if (\n      isLikeServerless &&\n      page !== '/_app' &&\n      page !== '/_document' &&\n      !webServerRuntime\n    ) {\n      const serverlessLoaderOptions: ServerlessLoaderQuery = {\n        page,\n        absolutePagePath,\n        ...defaultServerlessOptions,\n      }\n      server[serverBundlePath] = `next-serverless-loader?${stringify(\n        serverlessLoaderOptions\n      )}!`\n    }\n\n    if (page === '/_document') {\n      return\n    }\n\n    if (!isApiRoute) {\n      const pageLoaderOpts: ClientPagesLoaderOptions = {\n        page,\n        absolutePagePath,\n      }\n      const pageLoader = `next-client-pages-loader?${stringify(\n        pageLoaderOpts\n      )}!`\n\n      // Make sure next/router is a dependency of _app or else chunk splitting\n      // might cause the router to not be able to load causing hydration\n      // to fail\n\n      client[clientBundlePath] =\n        page === '/_app'\n          ? [pageLoader, require.resolve('../client/router')]\n          : pageLoader\n    }\n  })\n\n  return {\n    client,\n    server,\n    serverWeb,\n  }\n}\n\nexport function finalizeEntrypoint({\n  name,\n  value,\n  isServer,\n  isMiddleware,\n  isServerWeb,\n}: {\n  isServer: boolean\n  name: string\n  value: ObjectValue<webpack5.EntryObject>\n  isMiddleware?: boolean\n  isServerWeb?: boolean\n}): ObjectValue<webpack5.EntryObject> {\n  const entry =\n    typeof value !== 'object' || Array.isArray(value)\n      ? { import: value }\n      : value\n\n  if (isServer) {\n    const isApi = name.startsWith('pages/api/')\n    return {\n      publicPath: isApi ? '' : undefined,\n      runtime: isApi ? 'webpack-api-runtime' : 'webpack-runtime',\n      layer: isApi ? 'api' : undefined,\n      ...entry,\n    }\n  }\n\n  if (isServerWeb) {\n    const ssrMiddlewareEntry = {\n      library: {\n        name: ['_ENTRIES', `middleware_[name]`],\n        type: 'assign',\n      },\n      runtime: MIDDLEWARE_SSR_RUNTIME_WEBPACK,\n      asyncChunks: false,\n      ...entry,\n    }\n    return ssrMiddlewareEntry\n  }\n  if (isMiddleware) {\n    const middlewareEntry = {\n      filename: 'server/[name].js',\n      layer: 'middleware',\n      library: {\n        name: ['_ENTRIES', `middleware_[name]`],\n        type: 'assign',\n      },\n      runtime: MIDDLEWARE_RUNTIME_WEBPACK,\n      asyncChunks: false,\n      ...entry,\n    }\n    return middlewareEntry\n  }\n\n  if (\n    name !== 'polyfills' &&\n    name !== 'main' &&\n    name !== 'amp' &&\n    name !== 'react-refresh'\n  ) {\n    return {\n      dependOn:\n        name.startsWith('pages/') && name !== 'pages/_app'\n          ? 'pages/_app'\n          : 'main',\n      ...entry,\n    }\n  }\n\n  return entry\n}\n"],"names":["getPageFromPath","createPagesMapping","createEntrypoints","finalizeEntrypoint","pagePath","extensions","page","replace","RegExp","join","pagePaths","isDev","hasServerComponents","hasConcurrentFeatures","previousPages","includes","filter","endsWith","pages","reduce","result","pageKey","test","cyan","documentPage","target","buildId","previewMode","config","loadedEnvFiles","client","server","serverWeb","hasRuntimeConfig","Object","keys","publicRuntimeConfig","length","serverRuntimeConfig","defaultServerlessOptions","absoluteAppPath","absoluteDocumentPath","absoluteErrorPath","absolute404Path","distDir","assetPrefix","generateEtags","poweredByHeader","canonicalBase","amp","basePath","runtimeConfig","JSON","stringify","previewProps","Buffer","from","toString","i18n","forEach","absolutePagePath","bundleFile","isApiRoute","match","clientBundlePath","serverBundlePath","isLikeServerless","isReserved","isCustomError","isFlight","webServerRuntime","experimental","concurrentFeatures","loaderOpts","set","requireFlightManifest","name","value","dev","stringifiedConfig","absolute500Path","isServerComponent","isServer","isServerWeb","serverlessLoaderOptions","pageLoaderOpts","pageLoader","require","resolve","isMiddleware","entry","Array","isArray","import","isApi","startsWith","publicPath","undefined","runtime","layer","ssrMiddlewareEntry","library","type","asyncChunks","middlewareEntry","filename","dependOn"],"mappings":"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"}