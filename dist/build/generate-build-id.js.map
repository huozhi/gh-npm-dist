{"version":3,"sources":["../../build/generate-build-id.ts"],"sourcesContent":["export async function generateBuildId(\n  generate: () => string | null | Promise<string | null>,\n  fallback: () => string\n): Promise<string> {\n  let buildId = await generate()\n  // If there's no buildId defined we'll fall back\n  if (buildId === null) {\n    // We also create a new buildId if it contains the word `ad` to avoid false\n    // positives with ad blockers\n    while (!buildId || /ad/i.test(buildId)) {\n      buildId = fallback()\n    }\n  }\n\n  if (typeof buildId !== 'string') {\n    throw new Error(\n      'generateBuildId did not return a string. https://nextjs.org/docs/messages/generatebuildid-not-a-string'\n    )\n  }\n\n  return buildId.trim()\n}\n"],"names":["generateBuildId","generate","fallback","buildId","test","Error","trim"],"mappings":";;;;QAAsBA,eAAe,GAAfA,eAAe;eAAfA,eAAe,CACnCC,QAAsD,EACtDC,QAAsB,EACL,CAAC;IAClB,GAAG,CAACC,OAAO,GAAG,KAAK,CAACF,QAAQ;IAC5B,EAAgD,AAAhD,8CAAgD;IAChD,EAAE,EAAEE,OAAO,KAAK,IAAI,EAAE,CAAC;QACrB,EAA2E,AAA3E,yEAA2E;QAC3E,EAA6B,AAA7B,2BAA6B;eACrBA,OAAO,UAAUC,IAAI,CAACD,OAAO,EAAG,CAAC;YACvCA,OAAO,GAAGD,QAAQ;QACpB,CAAC;IACH,CAAC;IAED,EAAE,EAAE,MAAM,CAACC,OAAO,KAAK,CAAQ,SAAE,CAAC;QAChC,KAAK,CAAC,GAAG,CAACE,KAAK,CACb,CAAwG;IAE5G,CAAC;IAED,MAAM,CAACF,OAAO,CAACG,IAAI;AACrB,CAAC"}