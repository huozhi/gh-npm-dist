{"version":3,"sources":["../../export/index.ts"],"sourcesContent":["import chalk from 'next/dist/compiled/chalk'\nimport findUp from 'next/dist/compiled/find-up'\nimport {\n  promises,\n  existsSync,\n  exists as existsOrig,\n  readFileSync,\n  writeFileSync,\n} from 'fs'\nimport { Worker } from '../lib/worker'\nimport { dirname, join, resolve, sep } from 'path'\nimport { promisify } from 'util'\nimport { AmpPageStatus, formatAmpMessages } from '../build/output/index'\nimport * as Log from '../build/output/log'\nimport createSpinner from '../build/spinner'\nimport { API_ROUTE, SSG_FALLBACK_EXPORT_ERROR } from '../lib/constants'\nimport { recursiveCopy } from '../lib/recursive-copy'\nimport { recursiveDelete } from '../lib/recursive-delete'\nimport {\n  BUILD_ID_FILE,\n  CLIENT_PUBLIC_FILES_PATH,\n  CLIENT_STATIC_FILES_PATH,\n  EXPORT_DETAIL,\n  EXPORT_MARKER,\n  PAGES_MANIFEST,\n  PHASE_EXPORT,\n  PRERENDER_MANIFEST,\n  SERVERLESS_DIRECTORY,\n  SERVER_DIRECTORY,\n} from '../shared/lib/constants'\nimport loadConfig from '../server/config'\nimport { isTargetLikeServerless } from '../server/utils'\nimport { NextConfigComplete } from '../server/config-shared'\nimport { eventCliSession } from '../telemetry/events'\nimport { hasNextSupport } from '../telemetry/ci-info'\nimport { Telemetry } from '../telemetry/storage'\nimport {\n  normalizePagePath,\n  denormalizePagePath,\n} from '../server/normalize-page-path'\nimport { loadEnvConfig } from '@next/env'\nimport { PrerenderManifest } from '../build'\nimport { PagesManifest } from '../build/webpack/plugins/pages-manifest-plugin'\nimport { getPagePath } from '../server/require'\nimport { Span } from '../trace'\n\nconst exists = promisify(existsOrig)\n\nfunction divideSegments(number: number, segments: number): number[] {\n  const result = []\n  while (number > 0 && segments > 0) {\n    const dividedNumber =\n      number < segments ? number : Math.floor(number / segments)\n\n    number -= dividedNumber\n    segments--\n    result.push(dividedNumber)\n  }\n  return result\n}\n\nconst createProgress = (total: number, label: string) => {\n  const segments = divideSegments(total, 4)\n\n  if (total === 0) {\n    throw new Error('invariant: progress total can not be zero')\n  }\n  let currentSegmentTotal = segments.shift()\n  let currentSegmentCount = 0\n  let lastProgressOutput = Date.now()\n  let curProgress = 0\n  let progressSpinner = createSpinner(`${label} (${curProgress}/${total})`, {\n    spinner: {\n      frames: [\n        '[    ]',\n        '[=   ]',\n        '[==  ]',\n        '[=== ]',\n        '[ ===]',\n        '[  ==]',\n        '[   =]',\n        '[    ]',\n        '[   =]',\n        '[  ==]',\n        '[ ===]',\n        '[====]',\n        '[=== ]',\n        '[==  ]',\n        '[=   ]',\n      ],\n      interval: 500,\n    },\n  })\n\n  return () => {\n    curProgress++\n\n    // Make sure we only log once\n    // - per fully generated segment, or\n    // - per minute\n    // when not showing the spinner\n    if (!progressSpinner) {\n      currentSegmentCount++\n\n      if (currentSegmentCount === currentSegmentTotal) {\n        currentSegmentTotal = segments.shift()\n        currentSegmentCount = 0\n      } else if (lastProgressOutput + 60000 > Date.now()) {\n        return\n      }\n\n      lastProgressOutput = Date.now()\n    }\n\n    const newText = `${label} (${curProgress}/${total})`\n    if (progressSpinner) {\n      progressSpinner.text = newText\n    } else {\n      console.log(newText)\n    }\n\n    if (curProgress === total && progressSpinner) {\n      progressSpinner.stop()\n      console.log(newText)\n    }\n  }\n}\n\ntype ExportPathMap = {\n  [page: string]: { page: string; query?: { [key: string]: string } }\n}\n\ninterface ExportOptions {\n  outdir: string\n  silent?: boolean\n  threads?: number\n  pages?: string[]\n  buildExport?: boolean\n  statusMessage?: string\n  exportPageWorker?: typeof import('./worker').default\n  endWorker?: () => Promise<void>\n}\n\nexport default async function exportApp(\n  dir: string,\n  options: ExportOptions,\n  span: Span,\n  configuration?: NextConfigComplete\n): Promise<void> {\n  const nextExportSpan = span.traceChild('next-export')\n\n  return nextExportSpan.traceAsyncFn(async () => {\n    dir = resolve(dir)\n\n    // attempt to load global env values so they are available in next.config.js\n    nextExportSpan\n      .traceChild('load-dotenv')\n      .traceFn(() => loadEnvConfig(dir, false, Log))\n\n    const nextConfig =\n      configuration ||\n      (await nextExportSpan\n        .traceChild('load-next-config')\n        .traceAsyncFn(() => loadConfig(PHASE_EXPORT, dir)))\n    const threads = options.threads || nextConfig.experimental.cpus\n    const distDir = join(dir, nextConfig.distDir)\n\n    const telemetry = options.buildExport ? null : new Telemetry({ distDir })\n\n    if (telemetry) {\n      telemetry.record(\n        eventCliSession(distDir, nextConfig, {\n          webpackVersion: null,\n          cliCommand: 'export',\n          isSrcDir: null,\n          hasNowJson: !!(await findUp('now.json', { cwd: dir })),\n          isCustomServer: null,\n        })\n      )\n    }\n\n    const subFolders = nextConfig.trailingSlash && !options.buildExport\n    const isLikeServerless = nextConfig.target !== 'server'\n\n    if (!options.silent && !options.buildExport) {\n      Log.info(`using build directory: ${distDir}`)\n    }\n\n    const buildIdFile = join(distDir, BUILD_ID_FILE)\n\n    if (!existsSync(buildIdFile)) {\n      throw new Error(\n        `Could not find a production build in the '${distDir}' directory. Try building your app with 'next build' before starting the static export. https://nextjs.org/docs/messages/next-export-no-build-id`\n      )\n    }\n\n    const customRoutesDetected = ['rewrites', 'redirects', 'headers'].filter(\n      (config) => typeof nextConfig[config] === 'function'\n    )\n\n    if (\n      !hasNextSupport &&\n      !options.buildExport &&\n      customRoutesDetected.length > 0\n    ) {\n      Log.warn(\n        `rewrites, redirects, and headers are not applied when exporting your application, detected (${customRoutesDetected.join(\n          ', '\n        )}). See more info here: https://nextjs.org/docs/messages/export-no-custom-routes`\n      )\n    }\n\n    const buildId = readFileSync(buildIdFile, 'utf8')\n    const pagesManifest =\n      !options.pages &&\n      (require(join(\n        distDir,\n        isLikeServerless ? SERVERLESS_DIRECTORY : SERVER_DIRECTORY,\n        PAGES_MANIFEST\n      )) as PagesManifest)\n\n    let prerenderManifest: PrerenderManifest | undefined = undefined\n    try {\n      prerenderManifest = require(join(distDir, PRERENDER_MANIFEST))\n    } catch (_) {}\n\n    const excludedPrerenderRoutes = new Set<string>()\n    const pages = options.pages || Object.keys(pagesManifest)\n    const defaultPathMap: ExportPathMap = {}\n    let hasApiRoutes = false\n\n    for (const page of pages) {\n      // _document and _app are not real pages\n      // _error is exported as 404.html later on\n      // API Routes are Node.js functions\n\n      if (page.match(API_ROUTE)) {\n        hasApiRoutes = true\n        continue\n      }\n\n      if (page === '/_document' || page === '/_app' || page === '/_error') {\n        continue\n      }\n\n      // iSSG pages that are dynamic should not export templated version by\n      // default. In most cases, this would never work. There is no server that\n      // could run `getStaticProps`. If users make their page work lazily, they\n      // can manually add it to the `exportPathMap`.\n      if (prerenderManifest?.dynamicRoutes[page]) {\n        excludedPrerenderRoutes.add(page)\n        continue\n      }\n\n      defaultPathMap[page] = { page }\n    }\n\n    // Initialize the output directory\n    const outDir = options.outdir\n\n    if (outDir === join(dir, 'public')) {\n      throw new Error(\n        `The 'public' directory is reserved in Next.js and can not be used as the export out directory. https://nextjs.org/docs/messages/can-not-output-to-public`\n      )\n    }\n\n    if (outDir === join(dir, 'static')) {\n      throw new Error(\n        `The 'static' directory is reserved in Next.js and can not be used as the export out directory. https://nextjs.org/docs/messages/can-not-output-to-static`\n      )\n    }\n\n    await recursiveDelete(join(outDir))\n    await promises.mkdir(join(outDir, '_next', buildId), { recursive: true })\n\n    writeFileSync(\n      join(distDir, EXPORT_DETAIL),\n      JSON.stringify({\n        version: 1,\n        outDirectory: outDir,\n        success: false,\n      }),\n      'utf8'\n    )\n\n    // Copy static directory\n    if (!options.buildExport && existsSync(join(dir, 'static'))) {\n      if (!options.silent) {\n        Log.info('Copying \"static\" directory')\n      }\n      await nextExportSpan\n        .traceChild('copy-static-directory')\n        .traceAsyncFn(() =>\n          recursiveCopy(join(dir, 'static'), join(outDir, 'static'))\n        )\n    }\n\n    // Copy .next/static directory\n    if (\n      !options.buildExport &&\n      existsSync(join(distDir, CLIENT_STATIC_FILES_PATH))\n    ) {\n      if (!options.silent) {\n        Log.info('Copying \"static build\" directory')\n      }\n      await nextExportSpan\n        .traceChild('copy-next-static-directory')\n        .traceAsyncFn(() =>\n          recursiveCopy(\n            join(distDir, CLIENT_STATIC_FILES_PATH),\n            join(outDir, '_next', CLIENT_STATIC_FILES_PATH)\n          )\n        )\n    }\n\n    // Get the exportPathMap from the config file\n    if (typeof nextConfig.exportPathMap !== 'function') {\n      if (!options.silent) {\n        Log.info(\n          `No \"exportPathMap\" found in \"${nextConfig.configFile}\". Generating map from \"./pages\"`\n        )\n      }\n      nextConfig.exportPathMap = async (defaultMap: ExportPathMap) => {\n        return defaultMap\n      }\n    }\n\n    const {\n      i18n,\n      images: { loader = 'default' },\n    } = nextConfig\n\n    if (i18n && !options.buildExport) {\n      throw new Error(\n        `i18n support is not compatible with next export. See here for more info on deploying: https://nextjs.org/docs/deployment`\n      )\n    }\n\n    if (!options.buildExport) {\n      const { isNextImageImported } = await nextExportSpan\n        .traceChild('is-next-image-imported')\n        .traceAsyncFn(() =>\n          promises\n            .readFile(join(distDir, EXPORT_MARKER), 'utf8')\n            .then((text) => JSON.parse(text))\n            .catch(() => ({}))\n        )\n\n      if (isNextImageImported && loader === 'default' && !hasNextSupport) {\n        throw new Error(\n          `Image Optimization using Next.js' default loader is not compatible with \\`next export\\`.\n  Possible solutions:\n    - Use \\`next start\\` to run a server, which includes the Image Optimization API.\n    - Use any provider which supports Image Optimization (like Vercel).\n    - Configure a third-party loader in \\`next.config.js\\`.\n    - Use the \\`loader\\` prop for \\`next/image\\`.\n  Read more: https://nextjs.org/docs/messages/export-image-api`\n        )\n      }\n    }\n\n    // Start the rendering process\n    const renderOpts = {\n      dir,\n      buildId,\n      nextExport: true,\n      assetPrefix: nextConfig.assetPrefix.replace(/\\/$/, ''),\n      distDir,\n      dev: false,\n      hotReloader: null,\n      basePath: nextConfig.basePath,\n      canonicalBase: nextConfig.amp?.canonicalBase || '',\n      ampValidatorPath: nextConfig.experimental.amp?.validator || undefined,\n      ampSkipValidation: nextConfig.experimental.amp?.skipValidation || false,\n      ampOptimizerConfig: nextConfig.experimental.amp?.optimizer || undefined,\n      locales: i18n?.locales,\n      locale: i18n?.defaultLocale,\n      defaultLocale: i18n?.defaultLocale,\n      domainLocales: i18n?.domains,\n      trailingSlash: nextConfig.trailingSlash,\n      disableOptimizedLoading: nextConfig.experimental.disableOptimizedLoading,\n      // Exported pages do not currently support dynamic HTML.\n      supportsDynamicHTML: false,\n      concurrentFeatures: nextConfig.experimental.concurrentFeatures,\n      crossOrigin: nextConfig.crossOrigin,\n      optimizeCss: nextConfig.experimental.optimizeCss,\n      optimizeFonts: nextConfig.optimizeFonts,\n      optimizeImages: nextConfig.experimental.optimizeImages,\n    }\n\n    const { serverRuntimeConfig, publicRuntimeConfig } = nextConfig\n\n    if (Object.keys(publicRuntimeConfig).length > 0) {\n      ;(renderOpts as any).runtimeConfig = publicRuntimeConfig\n    }\n\n    // We need this for server rendering the Link component.\n    ;(global as any).__NEXT_DATA__ = {\n      nextExport: true,\n    }\n\n    if (!options.silent && !options.buildExport) {\n      Log.info(`Launching ${threads} workers`)\n    }\n    const exportPathMap = await nextExportSpan\n      .traceChild('run-export-path-map')\n      .traceAsyncFn(() =>\n        nextConfig.exportPathMap(defaultPathMap, {\n          dev: false,\n          dir,\n          outDir,\n          distDir,\n          buildId,\n        })\n      )\n\n    if (\n      !options.buildExport &&\n      !exportPathMap['/404'] &&\n      !exportPathMap['/404.html']\n    ) {\n      exportPathMap['/404'] = exportPathMap['/404.html'] = {\n        page: '/_error',\n      }\n    }\n\n    // make sure to prevent duplicates\n    const exportPaths = [\n      ...new Set(\n        Object.keys(exportPathMap).map((path) =>\n          denormalizePagePath(normalizePagePath(path))\n        )\n      ),\n    ]\n\n    const filteredPaths = exportPaths.filter(\n      // Remove API routes\n      (route) => !exportPathMap[route].page.match(API_ROUTE)\n    )\n\n    if (filteredPaths.length !== exportPaths.length) {\n      hasApiRoutes = true\n    }\n\n    if (filteredPaths.length === 0) {\n      return\n    }\n\n    if (prerenderManifest && !options.buildExport) {\n      const fallbackEnabledPages = new Set()\n\n      for (const path of Object.keys(exportPathMap)) {\n        const page = exportPathMap[path].page\n        const prerenderInfo = prerenderManifest.dynamicRoutes[page]\n\n        if (prerenderInfo && prerenderInfo.fallback !== false) {\n          fallbackEnabledPages.add(page)\n        }\n      }\n\n      if (fallbackEnabledPages.size) {\n        throw new Error(\n          `Found pages with \\`fallback\\` enabled:\\n${[\n            ...fallbackEnabledPages,\n          ].join('\\n')}\\n${SSG_FALLBACK_EXPORT_ERROR}\\n`\n        )\n      }\n    }\n\n    // Warn if the user defines a path for an API page\n    if (hasApiRoutes) {\n      if (!options.silent) {\n        Log.warn(\n          chalk.yellow(\n            `Statically exporting a Next.js application via \\`next export\\` disables API routes.`\n          ) +\n            `\\n` +\n            chalk.yellow(\n              `This command is meant for static-only hosts, and is` +\n                ' ' +\n                chalk.bold(`not necessary to make your application static.`)\n            ) +\n            `\\n` +\n            chalk.yellow(\n              `Pages in your application without server-side data dependencies will be automatically statically exported by \\`next build\\`, including pages powered by \\`getStaticProps\\`.`\n            ) +\n            `\\n` +\n            chalk.yellow(\n              `Learn more: https://nextjs.org/docs/messages/api-routes-static-export`\n            )\n        )\n      }\n    }\n\n    const progress =\n      !options.silent &&\n      createProgress(\n        filteredPaths.length,\n        `${Log.prefixes.info} ${options.statusMessage || 'Exporting'}`\n      )\n    const pagesDataDir = options.buildExport\n      ? outDir\n      : join(outDir, '_next/data', buildId)\n\n    const ampValidations: AmpPageStatus = {}\n    let hadValidationError = false\n\n    const publicDir = join(dir, CLIENT_PUBLIC_FILES_PATH)\n    // Copy public directory\n    if (!options.buildExport && existsSync(publicDir)) {\n      if (!options.silent) {\n        Log.info('Copying \"public\" directory')\n      }\n      await nextExportSpan\n        .traceChild('copy-public-directory')\n        .traceAsyncFn(() =>\n          recursiveCopy(publicDir, outDir, {\n            filter(path) {\n              // Exclude paths used by pages\n              return !exportPathMap[path]\n            },\n          })\n        )\n    }\n\n    const timeout = configuration?.staticPageGenerationTimeout || 0\n    let infoPrinted = false\n    let exportPage: typeof import('./worker').default\n    let endWorker: () => Promise<void>\n    if (options.exportPageWorker) {\n      exportPage = options.exportPageWorker\n      endWorker = options.endWorker || (() => Promise.resolve())\n    } else {\n      const worker = new Worker(require.resolve('./worker'), {\n        timeout: timeout * 1000,\n        onRestart: (_method, [{ path }], attempts) => {\n          if (attempts >= 3) {\n            throw new Error(\n              `Static page generation for ${path} is still timing out after 3 attempts. See more info here https://nextjs.org/docs/messages/static-page-generation-timeout`\n            )\n          }\n          Log.warn(\n            `Restarted static page generation for ${path} because it took more than ${timeout} seconds`\n          )\n          if (!infoPrinted) {\n            Log.warn(\n              'See more info here https://nextjs.org/docs/messages/static-page-generation-timeout'\n            )\n            infoPrinted = true\n          }\n        },\n        maxRetries: 0,\n        numWorkers: threads,\n        enableWorkerThreads: nextConfig.experimental.workerThreads,\n        exposedMethods: ['default'],\n      }) as Worker & typeof import('./worker')\n      exportPage = worker.default.bind(worker)\n      endWorker = async () => {\n        await worker.end()\n      }\n    }\n\n    let renderError = false\n    const errorPaths: string[] = []\n\n    await Promise.all(\n      filteredPaths.map(async (path) => {\n        const pageExportSpan = nextExportSpan.traceChild('export-page')\n        pageExportSpan.setAttribute('path', path)\n\n        return pageExportSpan.traceAsyncFn(async () => {\n          const pathMap = exportPathMap[path]\n          const result = await exportPage({\n            path,\n            pathMap,\n            distDir,\n            outDir,\n            pagesDataDir,\n            renderOpts,\n            serverRuntimeConfig,\n            subFolders,\n            buildExport: options.buildExport,\n            serverless: isTargetLikeServerless(nextConfig.target),\n            optimizeFonts: nextConfig.optimizeFonts,\n            optimizeImages: nextConfig.experimental.optimizeImages,\n            optimizeCss: nextConfig.experimental.optimizeCss,\n            disableOptimizedLoading:\n              nextConfig.experimental.disableOptimizedLoading,\n            parentSpanId: pageExportSpan.id,\n            httpAgentOptions: nextConfig.httpAgentOptions,\n          })\n\n          for (const validation of result.ampValidations || []) {\n            const { page, result: ampValidationResult } = validation\n            ampValidations[page] = ampValidationResult\n            hadValidationError =\n              hadValidationError ||\n              (Array.isArray(ampValidationResult?.errors) &&\n                ampValidationResult.errors.length > 0)\n          }\n          renderError = renderError || !!result.error\n          if (!!result.error) {\n            const { page } = pathMap\n            errorPaths.push(page !== path ? `${page}: ${path}` : path)\n          }\n\n          if (options.buildExport && configuration) {\n            if (typeof result.fromBuildExportRevalidate !== 'undefined') {\n              configuration.initialPageRevalidationMap[path] =\n                result.fromBuildExportRevalidate\n            }\n\n            if (result.ssgNotFound === true) {\n              configuration.ssgNotFoundPaths.push(path)\n            }\n\n            const durations = (configuration.pageDurationMap[pathMap.page] =\n              configuration.pageDurationMap[pathMap.page] || {})\n            durations[path] = result.duration\n          }\n\n          if (progress) progress()\n        })\n      })\n    )\n\n    const endWorkerPromise = endWorker()\n\n    // copy prerendered routes to outDir\n    if (!options.buildExport && prerenderManifest) {\n      await Promise.all(\n        Object.keys(prerenderManifest.routes).map(async (route) => {\n          const { srcRoute } = prerenderManifest!.routes[route]\n          const pageName = srcRoute || route\n          route = normalizePagePath(route)\n\n          // returning notFound: true from getStaticProps will not\n          // output html/json files during the build\n          if (prerenderManifest!.notFoundRoutes.includes(route)) {\n            return\n          }\n\n          const pagePath = getPagePath(pageName, distDir, isLikeServerless)\n          const distPagesDir = join(\n            pagePath,\n            // strip leading / and then recurse number of nested dirs\n            // to place from base folder\n            pageName\n              .substr(1)\n              .split('/')\n              .map(() => '..')\n              .join('/')\n          )\n\n          const orig = join(distPagesDir, route)\n          const htmlDest = join(\n            outDir,\n            `${route}${\n              subFolders && route !== '/index' ? `${sep}index` : ''\n            }.html`\n          )\n          const ampHtmlDest = join(\n            outDir,\n            `${route}.amp${subFolders ? `${sep}index` : ''}.html`\n          )\n          const jsonDest = join(pagesDataDir, `${route}.json`)\n\n          await promises.mkdir(dirname(htmlDest), { recursive: true })\n          await promises.mkdir(dirname(jsonDest), { recursive: true })\n\n          const htmlSrc = `${orig}.html`\n          const jsonSrc = `${orig}.json`\n\n          await promises.copyFile(htmlSrc, htmlDest)\n          await promises.copyFile(jsonSrc, jsonDest)\n\n          if (await exists(`${orig}.amp.html`)) {\n            await promises.mkdir(dirname(ampHtmlDest), { recursive: true })\n            await promises.copyFile(`${orig}.amp.html`, ampHtmlDest)\n          }\n        })\n      )\n    }\n\n    if (Object.keys(ampValidations).length) {\n      console.log(formatAmpMessages(ampValidations))\n    }\n    if (hadValidationError) {\n      throw new Error(\n        `AMP Validation caused the export to fail. https://nextjs.org/docs/messages/amp-export-validation`\n      )\n    }\n\n    if (renderError) {\n      throw new Error(\n        `Export encountered errors on following paths:\\n\\t${errorPaths\n          .sort()\n          .join('\\n\\t')}`\n      )\n    }\n\n    writeFileSync(\n      join(distDir, EXPORT_DETAIL),\n      JSON.stringify({\n        version: 1,\n        outDirectory: outDir,\n        success: true,\n      }),\n      'utf8'\n    )\n\n    if (telemetry) {\n      await telemetry.flush()\n    }\n\n    await endWorkerPromise\n  })\n}\n"],"names":["exportApp","Log","exists","divideSegments","number","segments","result","dividedNumber","Math","floor","push","createProgress","total","label","Error","currentSegmentTotal","shift","currentSegmentCount","lastProgressOutput","Date","now","curProgress","progressSpinner","spinner","frames","interval","newText","text","console","log","stop","dir","options","span","configuration","nextExportSpan","traceChild","traceAsyncFn","nextConfig","traceFn","threads","experimental","cpus","distDir","telemetry","buildExport","record","webpackVersion","cliCommand","isSrcDir","hasNowJson","cwd","isCustomServer","subFolders","trailingSlash","isLikeServerless","target","silent","info","buildIdFile","customRoutesDetected","filter","config","length","warn","join","buildId","pagesManifest","pages","require","prerenderManifest","undefined","_","excludedPrerenderRoutes","Set","Object","keys","defaultPathMap","hasApiRoutes","page","match","dynamicRoutes","add","outDir","outdir","mkdir","recursive","JSON","stringify","version","outDirectory","success","exportPathMap","configFile","defaultMap","i18n","images","loader","isNextImageImported","readFile","then","parse","catch","renderOpts","nextExport","assetPrefix","replace","dev","hotReloader","basePath","canonicalBase","amp","ampValidatorPath","validator","ampSkipValidation","skipValidation","ampOptimizerConfig","optimizer","locales","locale","defaultLocale","domainLocales","domains","disableOptimizedLoading","supportsDynamicHTML","concurrentFeatures","crossOrigin","optimizeCss","optimizeFonts","optimizeImages","serverRuntimeConfig","publicRuntimeConfig","runtimeConfig","global","__NEXT_DATA__","exportPaths","map","path","filteredPaths","route","fallbackEnabledPages","prerenderInfo","fallback","size","yellow","bold","progress","prefixes","statusMessage","pagesDataDir","ampValidations","hadValidationError","publicDir","timeout","staticPageGenerationTimeout","infoPrinted","exportPage","endWorker","exportPageWorker","Promise","resolve","worker","onRestart","_method","attempts","maxRetries","numWorkers","enableWorkerThreads","workerThreads","exposedMethods","default","bind","end","renderError","errorPaths","all","pageExportSpan","setAttribute","pathMap","serverless","parentSpanId","id","httpAgentOptions","validation","ampValidationResult","Array","isArray","errors","error","fromBuildExportRevalidate","initialPageRevalidationMap","ssgNotFound","ssgNotFoundPaths","durations","pageDurationMap","duration","endWorkerPromise","routes","srcRoute","pageName","notFoundRoutes","includes","pagePath","distPagesDir","substr","split","orig","htmlDest","ampHtmlDest","jsonDest","htmlSrc","jsonSrc","copyFile","sort","flush"],"mappings":"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"}